/* =========================================================
   ObraTrack ‚Äî Mapa de Demandas (Manual, com endere√ßos)
   - DEMANDAS geradas de "OBRAS DE PAVIMENTACAO-Natercio.xlsx"
   - Sem Google API (apenas link de consulta no Maps)
   - Coordenadas marcadas manualmente no mapa
   - Salva no navegador (localStorage)
   - Exporta coords-manual.js para fixar no seu JS
   ========================================================= */

/* =========================
   1) DEMANDAS
   - AGORA VEM DO ARQUIVO: demandas.js
   ========================= */
// IMPORTANTE: inclua <script src="demandas.js"></script> ANTES deste arquivo no HTML.

/* =========================
   2) COORDENADAS MANUAIS FIXAS (opcional)
   - Cole aqui o conte√∫do exportado do coords-manual.js
   ========================= */
const COORDS_MANUAIS_FIXAS = {
  // 2: { lat: -2.512445, lng: -44.2028125 },
};

/* =========================
   3) STORAGE (coords marcadas)
   ========================= */
const STORAGE_KEY = "obratrack_coords_manuais_v1";

function loadStoredCoords() {
  try {
    const raw = localStorage.getItem(STORAGE_KEY);
    if (!raw) return {};
    const obj = JSON.parse(raw);
    return (obj && typeof obj === "object") ? obj : {};
  } catch {
    return {};
  }
}

function saveStoredCoords(coordsObj) {
  localStorage.setItem(STORAGE_KEY, JSON.stringify(coordsObj));
}

let COORDS_STORAGE = loadStoredCoords();

/* =========================
   4) APPLY COORDS (fixas + storage)
   ========================= */
function applyCoordsToDemandas() {
  // aplica coords fixas
  for (const d of DEMANDAS) {
    const patch = COORDS_MANUAIS_FIXAS[d.item];
    if (patch && typeof patch.lat === "number" && typeof patch.lng === "number") {
      d.lat = patch.lat;
      d.lng = patch.lng;
    }
  }

  // aplica coords do storage (sobrescreve)
  for (const d of DEMANDAS) {
    const patch = COORDS_STORAGE[d.item];
    if (patch && typeof patch.lat === "number" && typeof patch.lng === "number") {
      d.lat = patch.lat;
      d.lng = patch.lng;
    }
  }
}
applyCoordsToDemandas();

/* =========================
   5) √çCONES POR SERVI√áO
   ========================= */
function getMarkerStyle(servicoText){
  const s = (servicoText || '').toLowerCase();
  let color = '#38bdf8';
  let emoji = 'üìç';

  const hasPav      = s.includes('paviment');
  const hasRecape   = s.includes('recape');
  const hasBloquete = s.includes('bloquete');
  const hasDrenProf = s.includes('drenagem profunda');
  const hasDrenSup  = s.includes('drenagem superficial') || s.includes('drenagem  superficial');

  if (hasBloquete) { color = '#22c55e'; emoji = 'üß±'; }
  else if (hasRecape) { color = '#f97316'; emoji = 'üõ£Ô∏è'; }
  else if (hasPav) { color = '#0ea5e9'; emoji = 'üõ£Ô∏è'; }

  if (hasDrenProf || hasDrenSup) {
    if (!hasPav && !hasRecape && !hasBloquete) { color = '#6366f1'; emoji = 'üíß'; }
  }
  return { color, emoji };
}

/* =========================
   6) MAPA
   ========================= */
const SJ_RIBAMAR_CENTER = [-2.55, -44.10];

/* =========================
   CONTORNO (POL√çGONO) ‚Äî S√£o Jos√© de Ribamar/MA
   OBS: este contorno foi calculado automaticamente a partir dos pontos das demandas (envolt√≥ria convexa + margem).
   Se voc√™ quiser o contorno oficial do munic√≠pio (IBGE/OSM), me envie um GeoJSON da malha e eu substituo aqui.
   ========================= */
const MUNICIPIO_SJR_POLYGON = [[-2.576672, -44.18508], [-2.576592, -44.185105], [-2.57652, -44.18514], [-2.57645, -44.185183], [-2.576322, -44.18528], [-2.576123, -44.185468], [-2.575539, -44.186019], [-2.574886, -44.186638], [-2.574519, -44.186979], [-2.574435, -44.187057], [-2.574145, -44.187331], [-2.574039, -44.187445], [-2.573934, -44.187568], [-2.573739, -44.187798], [-2.573531, -44.188057], [-2.573449, -44.188161], [-2.573288, -44.188346], [-2.573251, -44.188386], [-2.573187, -44.188453], [-2.573128, -44.188503], [-2.573036, -44.188584], [-2.572971, -44.18863], [-2.572865, -44.188687], [-2.572729, -44.188753], [-2.572677, -44.188778], [-2.572572, -44.188809], [-2.572491, -44.18882], [-2.572342, -44.188817], [-2.571933, -44.188802], [-2.571663, -44.188792], [-2.571308, -44.188779], [-2.570654, -44.18875], [-2.57011, -44.188725], [-2.570008, -44.188721], [-2.56993, -44.188718], [-2.569818, -44.188709], [-2.569643, -44.1887], [-2.569427, -44.188689], [-2.56923, -44.188678], [-2.569039, -44.18867], [-2.568846, -44.188676], [-2.568642, -44.18869], [-2.568407, -44.188715], [-2.568319, -44.188742], [-2.568234, -44.188778], [-2.568113, -44.188856], [-2.567981, -44.188958], [-2.56782, -44.189116], [-2.567644, -44.189287], [-2.567506, -44.189437], [-2.567333, -44.189608], [-2.567137, -44.189797], [-2.566913, -44.19004], [-2.566729, -44.190239], [-2.566604, -44.190384], [-2.566475, -44.190519], [-2.566324, -44.190675], [-2.566212, -44.190796], [-2.56609, -44.190921], [-2.565988, -44.19104], [-2.565854, -44.191195], [-2.565641, -44.191415], [-2.565558, -44.191505], [-2.565472, -44.191608], [-2.565341, -44.191749], [-2.565161, -44.191939], [-2.56499, -44.192124], [-2.564871, -44.192242], [-2.564649, -44.192486], [-2.564383, -44.192774], [-2.564186, -44.192988], [-2.563928, -44.193267], [-2.563745, -44.193468], [-2.563527, -44.193711], [-2.563209, -44.194057], [-2.563091, -44.194185], [-2.562927, -44.194369], [-2.562684, -44.194643], [-2.562589, -44.194724], [-2.562569, -44.194746], [-2.562739, -44.194856], [-2.562842, -44.195257], [-2.562927, -44.19561], [-2.563004, -44.195879], [-2.563281, -44.196861], [-2.563337, -44.19706], [-2.563458, -44.197486], [-2.563749, -44.198524], [-2.563842, -44.198846], [-2.564046, -44.199558], [-2.564088, -44.199702], [-2.564114, -44.199791], [-2.564247, -44.200238], [-2.564428, -44.200897], [-2.56453, -44.201239], [-2.564559, -44.201333], [-2.56458, -44.201403], [-2.564614, -44.201486], [-2.564652, -44.201542], [-2.564696, -44.201593], [-2.5648, -44.201708], [-2.565015, -44.201935], [-2.565282, -44.202215], [-2.565516, -44.20246], [-2.565711, -44.202664], [-2.565837, -44.202796], [-2.566025, -44.202983], [-2.566092, -44.203067], [-2.566139, -44.203148], [-2.566186, -44.203278], [-2.566542, -44.204253], [-2.566725, -44.20473], [-2.566872, -44.205153], [-2.566984, -44.205474], [-2.567219, -44.206092], [-2.56726, -44.206209], [-2.567269, -44.20625], [-2.567274, -44.206288], [-2.567273, -44.206335], [-2.567265, -44.206474], [-2.567251, -44.20662], [-2.56722, -44.206924], [-2.5672, -44.207211], [-2.567198, -44.207233], [-2.567194, -44.207243], [-2.567183, -44.207255], [-2.567131, -44.207307], [-2.567083, -44.207356], [-2.567047, -44.20739], [-2.567046, -44.207391], [-2.567014, -44.207408], [-2.566978, -44.207418], [-2.566941, -44.207421], [-2.566793, -44.207403], [-2.566174, -44.207334], [-2.565881, -44.207301], [-2.565774, -44.20729], [-2.565595, -44.207268], [-2.565377, -44.207245], [-2.56528, -44.207229], [-2.565227, -44.20722], [-2.565129, -44.207203], [-2.564984, -44.207186], [-2.564868, -44.207172], [-2.564711, -44.207153], [-2.564503, -44.207128], [-2.564082, -44.207074], [-2.563865, -44.207046], [-2.563708, -44.207025], [-2.563525, -44.207001], [-2.563436, -44.206998], [-2.563353, -44.207003], [-2.563284, -44.207008], [-2.563211, -44.207023], [-2.563144, -44.207038], [-2.5631, -44.207054], [-2.563057, -44.207073], [-2.562968, -44.207111], [-2.562536, -44.207358], [-2.5624, -44.207431], [-2.562232, -44.20752], [-2.562129, -44.207577], [-2.562054, -44.207605], [-2.561994, -44.207631], [-2.561946, -44.207647], [-2.561894, -44.207668], [-2.561871, -44.207701], [-2.561853, -44.207744], [-2.561795, -44.207782], [-2.56169, -44.207843], [-2.561484, -44.207967], [-2.561306, -44.20807], [-2.561116, -44.208174], [-2.56097, -44.208252], [-2.560902, -44.208288], [-2.560794, -44.208329], [-2.560674, -44.208369], [-2.560573, -44.2084], [-2.560464, -44.208424], [-2.560373, -44.208434], [-2.560261, -44.208446], [-2.560078, -44.208463], [-2.55988, -44.208466], [-2.559481, -44.208443], [-2.559227, -44.208428], [-2.559223, -44.208374], [-2.559213, -44.208287], [-2.559198, -44.208205], [-2.55918, -44.208137], [-2.559165, -44.208093], [-2.559148, -44.208062], [-2.559103, -44.208006], [-2.559061, -44.207966], [-2.558975, -44.207913], [-2.558948, -44.207897], [-2.558896, -44.207859], [-2.558796, -44.207786], [-2.558755, -44.207748], [-2.558735, -44.207713], [-2.558698, -44.20771], [-2.558651, -44.207703], [-2.558564, -44.207687], [-2.558421, -44.207655], [-2.558265, -44.207621], [-2.558029, -44.207563], [-2.55793, -44.207541], [-2.557758, -44.207501], [-2.557593, -44.207447], [-2.557413, -44.207374], [-2.557261, -44.207313], [-2.557001, -44.207209], [-2.556795, -44.207128], [-2.556603, -44.207052], [-2.556521, -44.207017], [-2.556415, -44.206972], [-2.556248, -44.206896], [-2.555988, -44.206765], [-2.555775, -44.206653], [-2.555565, -44.206543], [-2.555375, -44.206444], [-2.555173, -44.206346], [-2.554933, -44.206231], [-2.554705, -44.20612], [-2.554582, -44.206068], [-2.554332, -44.205955], [-2.554218, -44.205907], [-2.554153, -44.20588], [-2.554118, -44.205872], [-2.554097, -44.205869], [-2.554029, -44.205867], [-2.554024, -44.206778], [-2.553908, -44.206778], [-2.553692, -44.206688], [-2.553622, -44.206638], [-2.55358, -44.206602], [-2.553551, -44.206559], [-2.553503, -44.206504], [-2.553411, -44.206411], [-2.553338, -44.206359], [-2.553249, -44.206296], [-2.553201, -44.206221], [-2.553178, -44.206109], [-2.553094, -44.205998], [-2.553034, -44.20592], [-2.552956, -44.205773], [-2.552881, -44.205689], [-2.552755, -44.205514], [-2.552681, -44.205407], [-2.5526, -44.205272], [-2.552507, -44.205153], [-2.552409, -44.204978], [-2.552242, -44.204741], [-2.552169, -44.204645], [-2.552137, -44.204633], [-2.552084, -44.204645], [-2.552047, -44.204677], [-2.552002, -44.204771], [-2.55193, -44.204923], [-2.551915, -44.204979], [-2.551898, -44.205076], [-2.551876, -44.205244], [-2.551858, -44.205449], [-2.551858, -44.205625], [-2.551865, -44.205681], [-2.551878, -44.205784], [-2.551878, -44.205861], [-2.551879, -44.205946], [-2.551891, -44.206064], [-2.551901, -44.206175], [-2.551898, -44.20634], [-2.551891, -44.206497], [-2.551876, -44.206684], [-2.55184, -44.206843], [-2.551798, -44.207044], [-2.551751, -44.207225], [-2.551705, -44.207408], [-2.551582, -44.207667], [-2.551533, -44.207838], [-2.551506, -44.207929], [-2.551442, -44.208026], [-2.551315, -44.208141], [-2.551237, -44.208188], [-2.551199, -44.208203], [-2.551122, -44.208214], [-2.551059, -44.208226], [-2.550894, -44.208276], [-2.550784, -44.208317], [-2.55062, -44.207828], [-2.550508, -44.207429], [-2.550354, -44.206908], [-2.550205, -44.206377], [-2.549942, -44.20644], [-2.549683, -44.206504], [-2.549601, -44.20653], [-2.549533, -44.206548], [-2.549285, -44.206634], [-2.549217, -44.206658], [-2.549163, -44.206676], [-2.548572, -44.206828], [-2.548418, -44.206865], [-2.54829, -44.206896], [-2.548111, -44.206953], [-2.547962, -44.207], [-2.547575, -44.207144], [-2.547047, -44.207377], [-2.546762, -44.207492], [-2.546313, -44.207691], [-2.546282, -44.207705], [-2.546172, -44.207758], [-2.546049, -44.207817], [-2.545983, -44.207856], [-2.545828, -44.207945], [-2.545658, -44.208025], [-2.545109, -44.208263], [-2.544811, -44.20838], [-2.544347, -44.208578], [-2.544189, -44.208643], [-2.54391, -44.208757], [-2.5432, -44.209055], [-2.543152, -44.208858], [-2.543027, -44.208294], [-2.542952, -44.207952], [-2.542926, -44.207834], [-2.542709, -44.206884], [-2.542561, -44.206233], [-2.542396, -44.205494], [-2.542268, -44.204955], [-2.542255, -44.204899], [-2.542209, -44.204707], [-2.542114, -44.204295], [-2.54194, -44.203497], [-2.5419, -44.203325], [-2.541755, -44.202699], [-2.541655, -44.20224], [-2.541578, -44.201887], [-2.54155, -44.201763], [-2.541527, -44.201662], [-2.541383, -44.201034], [-2.541177, -44.200125], [-2.541144, -44.199981], [-2.541076, -44.199683], [-2.541068, -44.199646], [-2.541028, -44.199464], [-2.540912, -44.198946], [-2.540903, -44.198906], [-2.540784, -44.198376], [-2.54063, -44.1977], [-2.540372, -44.196567], [-2.540354, -44.196486], [-2.540201, -44.195782], [-2.540129, -44.195482], [-2.540123, -44.195418], [-2.540125, -44.195332], [-2.540087, -44.195261], [-2.540042, -44.195183], [-2.539911, -44.195239], [-2.539845, -44.195286], [-2.539755, -44.195339], [-2.539689, -44.195372], [-2.539603, -44.195395], [-2.539421, -44.195435], [-2.539021, -44.195523], [-2.538874, -44.195555], [-2.538678, -44.195592], [-2.538515, -44.195629], [-2.538069, -44.195732], [-2.537686, -44.195816], [-2.537439, -44.195877], [-2.537246, -44.195907], [-2.537108, -44.195937], [-2.535528, -44.196287], [-2.535484, -44.196295], [-2.535013, -44.196395], [-2.534747, -44.196458], [-2.534536, -44.196508], [-2.534365, -44.196552], [-2.534286, -44.196584], [-2.534047, -44.196649], [-2.533135, -44.196876], [-2.532864, -44.196942], [-2.53243, -44.197047], [-2.531659, -44.197248], [-2.531482, -44.197292], [-2.531408, -44.197311], [-2.530829, -44.195268], [-2.529663, -44.191151], [-2.529538, -44.190711], [-2.527547, -44.190967], [-2.527058, -44.191033], [-2.52694, -44.191042], [-2.526886, -44.191046], [-2.5267, -44.191067], [-2.526506, -44.191099], [-2.526253, -44.191133], [-2.525959, -44.191177], [-2.525582, -44.191231], [-2.525363, -44.191261], [-2.525048, -44.191295], [-2.524965, -44.191311], [-2.524843, -44.191319], [-2.524616, -44.191355], [-2.524487, -44.191372], [-2.524369, -44.191392], [-2.524048, -44.191439], [-2.523835, -44.191465], [-2.523705, -44.191485], [-2.523194, -44.191567], [-2.523059, -44.191584], [-2.523036, -44.19037], [-2.523029, -44.189619], [-2.522334, -44.189642], [-2.52147, -44.18967], [-2.521037, -44.189676], [-2.520941, -44.189683], [-2.520809, -44.189707], [-2.520607, -44.189745], [-2.520311, -44.189789], [-2.520198, -44.18982], [-2.520135, -44.189847], [-2.520066, -44.189885], [-2.519952, -44.189946], [-2.520001, -44.190134], [-2.520027, -44.190216], [-2.520049, -44.190281], [-2.520058, -44.190322], [-2.520064, -44.190371], [-2.520063, -44.190418], [-2.520055, -44.190471], [-2.520043, -44.190508], [-2.520007, -44.190562], [-2.519992, -44.190593], [-2.519997, -44.190627], [-2.520023, -44.19066], [-2.520053, -44.190686], [-2.52016, -44.190718], [-2.520232, -44.190777], [-2.520266, -44.19082], [-2.520281, -44.190874], [-2.520276, -44.190919], [-2.520234, -44.19101], [-2.520213, -44.191065], [-2.520198, -44.191121], [-2.520198, -44.191209], [-2.520215, -44.191274], [-2.520248, -44.191348], [-2.520287, -44.191433], [-2.520293, -44.191454], [-2.520324, -44.191575], [-2.520327, -44.191604], [-2.520323, -44.191645], [-2.520306, -44.191706], [-2.520312, -44.191736], [-2.520332, -44.191758], [-2.52038, -44.191772], [-2.520405, -44.191807], [-2.520409, -44.19184], [-2.520388, -44.191885], [-2.52036, -44.191911], [-2.520322, -44.191945], [-2.520233, -44.192002], [-2.520198, -44.192009], [-2.52017, -44.192025], [-2.520135, -44.19206], [-2.520107, -44.192097], [-2.520095, -44.192141], [-2.520096, -44.192186], [-2.520093, -44.192322], [-2.52009, -44.192491], [-2.520085, -44.192717], [-2.520099, -44.192787], [-2.520131, -44.19288], [-2.520158, -44.192922], [-2.520176, -44.192941], [-2.520202, -44.192952], [-2.520247, -44.192951], [-2.520325, -44.192961], [-2.520371, -44.19297], [-2.520413, -44.192999], [-2.520506, -44.193098], [-2.520554, -44.193149], [-2.520594, -44.193189], [-2.520643, -44.193218], [-2.520724, -44.193234], [-2.520758, -44.193262], [-2.520781, -44.193307], [-2.520831, -44.193474], [-2.52084, -44.193526], [-2.520845, -44.193643], [-2.520823, -44.193817], [-2.520798, -44.194025], [-2.520745, -44.194268], [-2.520744, -44.194336], [-2.520759, -44.194412], [-2.520848, -44.194636], [-2.520868, -44.194677], [-2.520974, -44.195074], [-2.521003, -44.195146], [-2.521037, -44.195199], [-2.521256, -44.195619], [-2.521268, -44.195678], [-2.521277, -44.195713], [-2.521319, -44.195819], [-2.521457, -44.196159], [-2.521604, -44.196454], [-2.521856, -44.196903], [-2.521894, -44.196967], [-2.521899, -44.197034], [-2.521876, -44.197109], [-2.52187, -44.197199], [-2.521888, -44.197265], [-2.522365, -44.198548], [-2.522376, -44.19858], [-2.522399, -44.198634], [-2.52241, -44.198676], [-2.522669, -44.199455], [-2.52269, -44.199519], [-2.522708, -44.199581], [-2.522729, -44.199699], [-2.522741, -44.199821], [-2.52275, -44.199962], [-2.522752, -44.200026], [-2.522744, -44.200079], [-2.522718, -44.20015], [-2.522695, -44.200202], [-2.522511, -44.200579], [-2.522486, -44.200626], [-2.522484, -44.200685], [-2.522467, -44.200938], [-2.522487, -44.201055], [-2.522469, -44.201183], [-2.522412, -44.201249], [-2.522345, -44.201315], [-2.522285, -44.201344], [-2.521958, -44.201345], [-2.521933, -44.201676], [-2.521861, -44.202646], [-2.521841, -44.202751], [-2.521794, -44.202846], [-2.521756, -44.20289], [-2.521384, -44.203319], [-2.521331, -44.203381], [-2.521285, -44.20343], [-2.521264, -44.203652], [-2.521263, -44.203692], [-2.52126, -44.203857], [-2.521232, -44.204496], [-2.521215, -44.204583], [-2.521117, -44.205023], [-2.521116, -44.20507], [-2.521135, -44.205228], [-2.521171, -44.205433], [-2.521181, -44.205479], [-2.521199, -44.205523], [-2.521261, -44.205707], [-2.521323, -44.205895], [-2.521337, -44.205918], [-2.521368, -44.205933], [-2.521439, -44.205936], [-2.521462, -44.205936], [-2.521488, -44.205936], [-2.52154, -44.205928], [-2.521575, -44.205927], [-2.521605, -44.205931], [-2.521711, -44.205955], [-2.521726, -44.205966], [-2.521731, -44.205984], [-2.521728, -44.206039], [-2.521679, -44.207053], [-2.521581, -44.209088], [-2.521545, -44.20983], [-2.521481, -44.21113], [-2.52145, -44.211747], [-2.521411, -44.212541], [-2.521397, -44.21278], [-2.521375, -44.213142], [-2.521366, -44.213532], [-2.521126, -44.213246], [-2.519897, -44.211768], [-2.51931, -44.211042], [-2.519231, -44.211034], [-2.51916, -44.211038], [-2.518594, -44.211188], [-2.517895, -44.21134], [-2.517179, -44.211499], [-2.516883, -44.211565], [-2.516607, -44.211626], [-2.516124, -44.211723], [-2.515418, -44.211857], [-2.515065, -44.211932], [-2.514424, -44.212069], [-2.51425, -44.211963], [-2.513918, -44.21174], [-2.513606, -44.211512], [-2.513388, -44.211353], [-2.513236, -44.211209], [-2.513056, -44.211036], [-2.512776, -44.210741], [-2.512748, -44.210724], [-2.512724, -44.210726], [-2.51262, -44.210718], [-2.512499, -44.210732], [-2.51247, -44.21075], [-2.512373, -44.210794], [-2.512298, -44.210843], [-2.512279, -44.210859], [-2.512263, -44.210878], [-2.512238, -44.210932], [-2.512198, -44.211036], [-2.512198, -44.211053], [-2.512198, -44.21109], [-2.512207, -44.211242], [-2.51219, -44.211276], [-2.512178, -44.211283], [-2.512127, -44.211289], [-2.512093, -44.2113], [-2.512075, -44.211306], [-2.511994, -44.211346], [-2.51195, -44.211362], [-2.511918, -44.211372], [-2.511892, -44.211391], [-2.511866, -44.211475], [-2.511831, -44.211541], [-2.511833, -44.211576], [-2.511844, -44.211634], [-2.511893, -44.211702], [-2.511917, -44.211711], [-2.511949, -44.211703], [-2.511985, -44.211683], [-2.512014, -44.21167], [-2.512032, -44.211667], [-2.512053, -44.211676], [-2.512087, -44.211715], [-2.512111, -44.211748], [-2.512177, -44.211817], [-2.512199, -44.211849], [-2.512207, -44.211885], [-2.512205, -44.211909], [-2.512188, -44.211939], [-2.512161, -44.211957], [-2.512125, -44.211969], [-2.512094, -44.211974], [-2.512066, -44.211969], [-2.511949, -44.211911], [-2.51191, -44.211897], [-2.511873, -44.211892], [-2.511845, -44.211884], [-2.511811, -44.211873], [-2.511746, -44.211866], [-2.511693, -44.211853], [-2.511632, -44.211836], [-2.511571, -44.211802], [-2.511534, -44.211756], [-2.511532, -44.211707], [-2.511497, -44.211656], [-2.511471, -44.211626], [-2.511442, -44.211598], [-2.511416, -44.211571], [-2.511389, -44.211539], [-2.511367, -44.211496], [-2.511335, -44.211466], [-2.511314, -44.211454], [-2.511289, -44.21145], [-2.51126, -44.211448], [-2.511229, -44.211448], [-2.511161, -44.211467], [-2.511086, -44.211514], [-2.511048, -44.211544], [-2.511028, -44.211554], [-2.511001, -44.211558], [-2.510967, -44.21155], [-2.510921, -44.211526], [-2.510855, -44.211496], [-2.510797, -44.211447], [-2.510759, -44.211423], [-2.510704, -44.211403], [-2.51065, -44.211399], [-2.510556, -44.211399], [-2.510468, -44.21141], [-2.510293, -44.211481], [-2.510186, -44.211556], [-2.510122, -44.21163], [-2.509751, -44.211765], [-2.50902, -44.21201], [-2.508736, -44.2121], [-2.508382, -44.212207], [-2.50778, -44.212399], [-2.507648, -44.212438], [-2.50722, -44.212562], [-2.507154, -44.212581], [-2.507069, -44.212052], [-2.506991, -44.211609], [-2.506822, -44.210501], [-2.506736, -44.20991], [-2.506667, -44.209493], [-2.506638, -44.209297], [-2.506606, -44.209146], [-2.506565, -44.209012], [-2.506535, -44.208924], [-2.5065, -44.20882], [-2.506462, -44.208748], [-2.506384, -44.208629], [-2.506194, -44.208366], [-2.506041, -44.208175], [-2.505856, -44.207969], [-2.505537, -44.207645], [-2.505302, -44.20743], [-2.505252, -44.207371], [-2.50516, -44.207253], [-2.505003, -44.206983], [-2.504853, -44.206781], [-2.504733, -44.206613], [-2.504722, -44.206636], [-2.504425, -44.206986], [-2.504007, -44.206856], [-2.503546, -44.20673], [-2.503543, -44.20673], [-2.50334, -44.206674], [-2.50316, -44.20662], [-2.502898, -44.20655], [-2.5026, -44.206472], [-2.502353, -44.206401], [-2.502081, -44.206335], [-2.501627, -44.206191], [-2.501481, -44.206145], [-2.501404, -44.206109], [-2.50132, -44.206058], [-2.50123, -44.205995], [-2.501127, -44.20591], [-2.501047, -44.205819], [-2.500914, -44.205666], [-2.50086, -44.205591], [-2.500784, -44.205495], [-2.500647, -44.205514], [-2.50012, -44.205585], [-2.499667, -44.205652], [-2.499379, -44.205692], [-2.499168, -44.205728], [-2.498912, -44.205764], [-2.498714, -44.205792], [-2.498223, -44.205853], [-2.497494, -44.205944], [-2.49698, -44.205993], [-2.496511, -44.206039], [-2.495727, -44.206133], [-2.495679, -44.206139], [-2.495036, -44.20622], [-2.494678, -44.20626], [-2.493974, -44.206337], [-2.493647, -44.206381], [-2.493111, -44.206446], [-2.492614, -44.206496], [-2.492611, -44.206497], [-2.492046, -44.206559], [-2.49169, -44.206594], [-2.491185, -44.206639], [-2.490595, -44.206699], [-2.490248, -44.206734], [-2.490247, -44.206734], [-2.490363, -44.207135], [-2.490419, -44.207305], [-2.490454, -44.20739], [-2.49047, -44.207439], [-2.490499, -44.207532], [-2.490515, -44.207607], [-2.490519, -44.207681], [-2.490519, -44.207757], [-2.490509, -44.207814], [-2.490499, -44.207875], [-2.490474, -44.207939], [-2.490454, -44.207991], [-2.490432, -44.208059], [-2.490428, -44.208115], [-2.490433, -44.208169], [-2.490441, -44.208211], [-2.490464, -44.208294], [-2.490551, -44.208479], [-2.490597, -44.208578], [-2.49063, -44.208657], [-2.490694, -44.208777], [-2.490706, -44.208798], [-2.49073, -44.20883], [-2.490823, -44.20897], [-2.490924, -44.209145], [-2.490965, -44.209207], [-2.491005, -44.209301], [-2.491031, -44.209403], [-2.491081, -44.209631], [-2.491154, -44.209881], [-2.49121, -44.210114], [-2.491251, -44.210355], [-2.491052, -44.210384], [-2.490899, -44.210399], [-2.490811, -44.210403], [-2.490652, -44.210408], [-2.490648, -44.210409], [-2.490524, -44.210422], [-2.49043, -44.210432], [-2.490408, -44.210436], [-2.49039, -44.210443], [-2.490365, -44.210459], [-2.490334, -44.210477], [-2.490291, -44.210493], [-2.49025, -44.210507], [-2.490162, -44.210524], [-2.490119, -44.210531], [-2.489917, -44.210561], [-2.489765, -44.210582], [-2.489635, -44.210609], [-2.489483, -44.210634], [-2.489352, -44.210657], [-2.489131, -44.210705], [-2.488894, -44.210744], [-2.488599, -44.210809], [-2.488448, -44.210834], [-2.488001, -44.210917], [-2.487808, -44.210952], [-2.487751, -44.210961], [-2.487413, -44.211028], [-2.486724, -44.21115], [-2.486408, -44.211206], [-2.485917, -44.211297], [-2.4856, -44.211349], [-2.485264, -44.211408], [-2.485069, -44.211441], [-2.484969, -44.211464], [-2.485006, -44.211606], [-2.485049, -44.21182], [-2.485079, -44.212021], [-2.485126, -44.212222], [-2.485148, -44.212308], [-2.485178, -44.212395], [-2.485203, -44.212469], [-2.485274, -44.212609], [-2.485353, -44.212764], [-2.48529, -44.212786], [-2.48517, -44.21281], [-2.485, -44.21283], [-2.484874, -44.212845], [-2.484417, -44.212923], [-2.484055, -44.212981], [-2.483732, -44.213034], [-2.48371, -44.213037], [-2.483342, -44.213095], [-2.483092, -44.213137], [-2.482767, -44.213199], [-2.482283, -44.213281], [-2.481756, -44.213377], [-2.481502, -44.213428], [-2.48129, -44.213468], [-2.480996, -44.213524], [-2.480421, -44.21365], [-2.480333, -44.213669], [-2.480033, -44.213211], [-2.479785, -44.212855], [-2.479439, -44.212323], [-2.479353, -44.212192], [-2.479008, -44.211653], [-2.478704, -44.211177], [-2.478419, -44.210725], [-2.47836, -44.210764], [-2.478292, -44.210809], [-2.47813, -44.210868], [-2.47805, -44.21092], [-2.477992, -44.210958], [-2.477849, -44.210993], [-2.477767, -44.211013], [-2.47764, -44.211015], [-2.477537, -44.211041], [-2.477499, -44.211039], [-2.477472, -44.211031], [-2.477442, -44.211024], [-2.477414, -44.211023], [-2.477389, -44.211021], [-2.477373, -44.211021], [-2.47731, -44.211022], [-2.477305, -44.211021], [-2.477229, -44.211024], [-2.477199, -44.211021], [-2.477118, -44.211013], [-2.477106, -44.211008], [-2.477093, -44.211003], [-2.477082, -44.211], [-2.476963, -44.210951], [-2.476958, -44.210951], [-2.476887, -44.210956], [-2.476837, -44.211], [-2.476759, -44.211097], [-2.476746, -44.211104], [-2.476741, -44.211107], [-2.4767, -44.21113], [-2.476648, -44.211192], [-2.476615, -44.211332], [-2.476554, -44.211439], [-2.476472, -44.211562], [-2.476434, -44.211681], [-2.476409, -44.211709], [-2.476371, -44.211723], [-2.476193, -44.211708], [-2.476088, -44.2117], [-2.476018, -44.211725], [-2.475953, -44.211779], [-2.475824, -44.21187], [-2.475621, -44.212023], [-2.475545, -44.212074], [-2.475422, -44.212127], [-2.475212, -44.212197], [-2.475144, -44.212236], [-2.475146, -44.212277], [-2.475133, -44.212313], [-2.475115, -44.212312], [-2.475104, -44.212302], [-2.47507, -44.21228], [-2.475007, -44.212226], [-2.474957, -44.212191], [-2.474912, -44.212176], [-2.474881, -44.212179], [-2.474854, -44.212193], [-2.474816, -44.212203], [-2.474784, -44.212204], [-2.474748, -44.212189], [-2.474675, -44.212157], [-2.47462, -44.212153], [-2.474584, -44.212159], [-2.474555, -44.212164], [-2.474528, -44.212186], [-2.474461, -44.212354], [-2.474456, -44.212492], [-2.474404, -44.212638], [-2.474422, -44.212848], [-2.474528, -44.212963], [-2.474684, -44.213053], [-2.47471, -44.213178], [-2.474667, -44.213295], [-2.474616, -44.213353], [-2.474532, -44.213571], [-2.47461, -44.213661], [-2.474832, -44.213782], [-2.474875, -44.213894], [-2.474849, -44.214162], [-2.474723, -44.214391], [-2.474604, -44.214472], [-2.474538, -44.214513], [-2.47449, -44.21453], [-2.474373, -44.214521], [-2.474271, -44.214494], [-2.474139, -44.214435], [-2.474064, -44.214405], [-2.474011, -44.2144], [-2.473928, -44.21439], [-2.47376, -44.214363], [-2.473703, -44.214355], [-2.473653, -44.214356], [-2.473586, -44.214362], [-2.473538, -44.214374], [-2.473444, -44.214401], [-2.473379, -44.214426], [-2.473332, -44.214487], [-2.473304, -44.21453], [-2.473287, -44.214582], [-2.473301, -44.21462], [-2.473332, -44.214662], [-2.473383, -44.214727], [-2.473415, -44.214781], [-2.473455, -44.214888], [-2.473492, -44.215008], [-2.473513, -44.215091], [-2.473563, -44.215247], [-2.473623, -44.215367], [-2.473667, -44.215466], [-2.473695, -44.21555], [-2.473726, -44.21566], [-2.473778, -44.21579], [-2.473823, -44.215897], [-2.47385, -44.216014], [-2.473848, -44.216173], [-2.473783, -44.216513], [-2.473768, -44.216684], [-2.473771, -44.216778], [-2.473786, -44.216906], [-2.473875, -44.217079], [-2.473918, -44.217165], [-2.473957, -44.217385], [-2.474088, -44.217666], [-2.474175, -44.217963], [-2.474305, -44.218136], [-2.474392, -44.218343], [-2.474379, -44.218709], [-2.47431, -44.218835], [-2.474305, -44.218934], [-2.474323, -44.218951], [-2.473928, -44.22085], [-2.473732, -44.220707], [-2.473039, -44.220086], [-2.472381, -44.21942], [-2.471743, -44.218809], [-2.471455, -44.218405], [-2.471242, -44.217986], [-2.47113, -44.217713], [-2.471013, -44.217222], [-2.470971, -44.21662], [-2.470961, -44.215899], [-2.470951, -44.215324], [-2.470915, -44.214988], [-2.470843, -44.214568], [-2.470812, -44.214294], [-2.470737, -44.214007], [-2.470612, -44.213622], [-2.470139, -44.211998], [-2.4697, -44.210516], [-2.469358, -44.209597], [-2.46932, -44.209495], [-2.468768, -44.208159], [-2.468341, -44.207116], [-2.468031, -44.206468], [-2.468027, -44.206459], [-2.467794, -44.20594], [-2.467579, -44.205708], [-2.467428, -44.205567], [-2.467284, -44.205421], [-2.467001, -44.205135], [-2.466628, -44.204741], [-2.466617, -44.204709], [-2.466436, -44.204529], [-2.466277, -44.204369], [-2.465926, -44.204162], [-2.465576, -44.204042], [-2.465463, -44.204029], [-2.465291, -44.20401], [-2.465094, -44.20401], [-2.464961, -44.203887], [-2.464532, -44.203154], [-2.464246, -44.202177], [-2.464051, -44.201481], [-2.464041, -44.201445], [-2.463856, -44.200732], [-2.463794, -44.199735], [-2.463709, -44.198147], [-2.463678, -44.197804], [-2.463564, -44.196579], [-2.46344, -44.195154], [-2.463336, -44.194136], [-2.463192, -44.192955], [-2.462903, -44.191143], [-2.46282, -44.190737], [-2.462534, -44.189352], [-2.461859, -44.187052], [-2.461393, -44.185684], [-2.460996, -44.183691], [-2.463751, -44.183785], [-2.464121, -44.183797], [-2.464161, -44.183796], [-2.464237, -44.183775], [-2.464282, -44.183752], [-2.464326, -44.183714], [-2.464367, -44.183665], [-2.464379, -44.183628], [-2.464373, -44.183602], [-2.464353, -44.183565], [-2.464293, -44.183549], [-2.464227, -44.183544], [-2.464195, -44.18351], [-2.464183, -44.183448], [-2.464203, -44.183398], [-2.464225, -44.183361], [-2.464258, -44.183334], [-2.464303, -44.183301], [-2.464346, -44.183276], [-2.464406, -44.183237], [-2.464511, -44.183227], [-2.46459, -44.183209], [-2.464675, -44.18317], [-2.464731, -44.183141], [-2.464774, -44.183134], [-2.464855, -44.183119], [-2.464949, -44.183136], [-2.465047, -44.183171], [-2.465137, -44.183197], [-2.465196, -44.183167], [-2.465241, -44.183093], [-2.465241, -44.183019], [-2.465277, -44.182985], [-2.465333, -44.182956], [-2.465368, -44.182898], [-2.46543, -44.182785], [-2.465441, -44.182734], [-2.465476, -44.182686], [-2.465597, -44.182573], [-2.465626, -44.18254], [-2.465665, -44.182479], [-2.465701, -44.182411], [-2.465742, -44.182348], [-2.465763, -44.18225], [-2.465763, -44.182184], [-2.46577, -44.182137], [-2.465804, -44.182114], [-2.46582, -44.18216], [-2.465841, -44.182212], [-2.46586, -44.182203], [-2.46588, -44.182161], [-2.4659, -44.182121], [-2.465949, -44.18208], [-2.465979, -44.182042], [-2.465998, -44.182005], [-2.46601, -44.181977], [-2.468049, -44.181761], [-2.468853, -44.181708], [-2.469748, -44.181681], [-2.471323, -44.181591], [-2.47196, -44.181576], [-2.47256, -44.181519], [-2.474145, -44.18144], [-2.474265, -44.181434], [-2.474429, -44.182239], [-2.474566, -44.182862], [-2.474794, -44.18284], [-2.474965, -44.182823], [-2.475158, -44.182804], [-2.475475, -44.182775], [-2.475667, -44.182764], [-2.475745, -44.182764], [-2.475825, -44.182762], [-2.476054, -44.182744], [-2.476259, -44.182731], [-2.476464, -44.182722], [-2.476532, -44.182719], [-2.477097, -44.182684], [-2.477419, -44.18267], [-2.477736, -44.182649], [-2.478065, -44.182628], [-2.478563, -44.182608], [-2.47907, -44.182582], [-2.47919, -44.18258], [-2.479232, -44.182598], [-2.47932, -44.18267], [-2.479458, -44.182794], [-2.479715, -44.183036], [-2.479742, -44.183048], [-2.479765, -44.18304], [-2.479823, -44.183004], [-2.480754, -44.182433], [-2.4808, -44.182403], [-2.481382, -44.18203], [-2.481816, -44.18175], [-2.481872, -44.181714], [-2.481947, -44.181666], [-2.482731, -44.181679], [-2.483276, -44.181695], [-2.484222, -44.181721], [-2.484724, -44.181753], [-2.485706, -44.18177], [-2.48619, -44.181759], [-2.486706, -44.181743], [-2.48702, -44.181723], [-2.487055, -44.181721], [-2.487102, -44.181721], [-2.487198, -44.181728], [-2.487589, -44.181762], [-2.487936, -44.181756], [-2.488448, -44.1817], [-2.488114, -44.181317], [-2.487895, -44.181064], [-2.487587, -44.180733], [-2.487303, -44.180387], [-2.488452, -44.180371], [-2.489225, -44.180369], [-2.489887, -44.180371], [-2.490181, -44.180374], [-2.491287, -44.180389], [-2.493869, -44.180384], [-2.493881, -44.179916], [-2.494603, -44.179939], [-2.494658, -44.179941], [-2.494667, -44.179939], [-2.494668, -44.179883], [-2.494671, -44.179612], [-2.494754, -44.179612], [-2.494954, -44.179615], [-2.495213, -44.17962], [-2.495626, -44.179628], [-2.496145, -44.179605], [-2.496702, -44.179579], [-2.497092, -44.179561], [-2.497318, -44.179552], [-2.49831, -44.179508], [-2.498305, -44.179583], [-2.498381, -44.179595], [-2.498484, -44.179605], [-2.498513, -44.179599], [-2.49853, -44.179588], [-2.498555, -44.179568], [-2.49859, -44.179532], [-2.498626, -44.179509], [-2.498703, -44.179499], [-2.49876, -44.179462], [-2.499248, -44.179409], [-2.499491, -44.179367], [-2.499757, -44.179332], [-2.500439, -44.179253], [-2.500542, -44.179233], [-2.501438, -44.179108], [-2.501516, -44.179097], [-2.502233, -44.179], [-2.502493, -44.178972], [-2.503485, -44.178824], [-2.504233, -44.178712], [-2.504498, -44.178676], [-2.504976, -44.17861], [-2.505166, -44.178597], [-2.506502, -44.178407], [-2.507433, -44.178287], [-2.507475, -44.178284], [-2.507834, -44.178262], [-2.508359, -44.178217], [-2.508426, -44.178226], [-2.508449, -44.178244], [-2.508467, -44.178278], [-2.508561, -44.178901], [-2.509357, -44.178772], [-2.509534, -44.178756], [-2.509726, -44.179968], [-2.509816, -44.180531], [-2.51064, -44.180406], [-2.511582, -44.180263], [-2.512573, -44.180132], [-2.514013, -44.17995], [-2.515267, -44.17977], [-2.515523, -44.179736], [-2.515555, -44.179958], [-2.51559, -44.180155], [-2.515628, -44.180381], [-2.51574, -44.181084], [-2.515817, -44.181598], [-2.515876, -44.181968], [-2.515914, -44.182273], [-2.515985, -44.182356], [-2.516031, -44.182945], [-2.516096, -44.183621], [-2.516885, -44.183526], [-2.517813, -44.1834], [-2.518082, -44.183366], [-2.518145, -44.183346], [-2.518169, -44.183338], [-2.518208, -44.183331], [-2.519756, -44.183281], [-2.52085, -44.184421], [-2.521403, -44.184998], [-2.521665, -44.184975], [-2.521965, -44.184996], [-2.522358, -44.185003], [-2.522786, -44.185011], [-2.525295, -44.184987], [-2.527747, -44.184987], [-2.527938, -44.184986], [-2.527989, -44.18498], [-2.528247, -44.184931], [-2.528805, -44.1848], [-2.528986, -44.184756], [-2.529482, -44.184627], [-2.53084, -44.184301], [-2.532059, -44.184017], [-2.533143, -44.183719], [-2.533629, -44.184357], [-2.533674, -44.184416], [-2.534117, -44.184992], [-2.534247, -44.185156], [-2.534559, -44.185565], [-2.534828, -44.185918], [-2.535113, -44.186284], [-2.535399, -44.186646], [-2.535445, -44.186705], [-2.535648, -44.186966], [-2.535745, -44.187091], [-2.535941, -44.187345], [-2.536244, -44.187731], [-2.536335, -44.187849], [-2.536363, -44.187887], [-2.536484, -44.18804], [-2.536778, -44.188429], [-2.537012, -44.18873], [-2.537252, -44.18904], [-2.537611, -44.189501], [-2.537787, -44.189708], [-2.537913, -44.189843], [-2.538001, -44.189927], [-2.538124, -44.190029], [-2.53822, -44.190099], [-2.53847, -44.190271], [-2.538841, -44.190497], [-2.539148, -44.190681], [-2.539312, -44.190783], [-2.53966, -44.190999], [-2.539756, -44.191054], [-2.540125, -44.191298], [-2.540273, -44.191398], [-2.540307, -44.191425], [-2.540338, -44.191445], [-2.540592, -44.191652], [-2.540859, -44.191856], [-2.541101, -44.192085], [-2.541517, -44.192431], [-2.541671, -44.19259], [-2.541841, -44.192765], [-2.541861, -44.192744], [-2.541892, -44.192716], [-2.54196, -44.192667], [-2.541984, -44.192653], [-2.541996, -44.192649], [-2.542015, -44.192644], [-2.542037, -44.192646], [-2.542066, -44.192658], [-2.54209, -44.192664], [-2.542109, -44.192666], [-2.542128, -44.192664], [-2.542146, -44.19266], [-2.54217, -44.192651], [-2.542187, -44.192628], [-2.542194, -44.192604], [-2.542184, -44.192554], [-2.542191, -44.192513], [-2.542207, -44.192482], [-2.542245, -44.192457], [-2.542272, -44.19244], [-2.542281, -44.192429], [-2.542287, -44.192414], [-2.542291, -44.192376], [-2.542303, -44.192336], [-2.542318, -44.192267], [-2.542334, -44.192228], [-2.54238, -44.19214], [-2.542429, -44.19208], [-2.54247, -44.192051], [-2.542511, -44.192022], [-2.542551, -44.192002], [-2.542603, -44.191997], [-2.542637, -44.192002], [-2.542678, -44.192017], [-2.542723, -44.19201], [-2.542811, -44.191964], [-2.54291, -44.191909], [-2.542981, -44.191889], [-2.543128, -44.191866], [-2.543244, -44.191849], [-2.543308, -44.191827], [-2.543395, -44.191826], [-2.5435, -44.191785], [-2.543552, -44.191784], [-2.54364, -44.191742], [-2.543745, -44.191676], [-2.5438, -44.191642], [-2.54384, -44.191589], [-2.543823, -44.191543], [-2.543789, -44.191502], [-2.543799, -44.191415], [-2.543798, -44.191357], [-2.54376, -44.191299], [-2.543755, -44.19124], [-2.543744, -44.191185], [-2.543773, -44.191151], [-2.543816, -44.191141], [-2.543845, -44.19111], [-2.543855, -44.191098], [-2.543855, -44.191087], [-2.543847, -44.191077], [-2.543801, -44.191054], [-2.54376, -44.191017], [-2.543746, -44.190972], [-2.543741, -44.190902], [-2.54371, -44.190867], [-2.543671, -44.190818], [-2.543608, -44.190708], [-2.543612, -44.190653], [-2.543472, -44.190457], [-2.543439, -44.190366], [-2.543415, -44.19025], [-2.543369, -44.19017], [-2.543334, -44.190095], [-2.543127, -44.189901], [-2.542975, -44.189804], [-2.542884, -44.189684], [-2.542846, -44.18959], [-2.542835, -44.189546], [-2.542846, -44.189514], [-2.542867, -44.189488], [-2.542893, -44.18948], [-2.542928, -44.189493], [-2.542985, -44.189543], [-2.543026, -44.189603], [-2.543096, -44.189654], [-2.543131, -44.189689], [-2.543175, -44.18972], [-2.543209, -44.18974], [-2.543236, -44.189736], [-2.543259, -44.189719], [-2.543292, -44.1897], [-2.543339, -44.189709], [-2.543375, -44.189728], [-2.543402, -44.189756], [-2.543432, -44.1898], [-2.543478, -44.18983], [-2.543562, -44.189881], [-2.543721, -44.189982], [-2.543785, -44.19002], [-2.54386, -44.190077], [-2.543891, -44.190103], [-2.543913, -44.190163], [-2.54393, -44.190204], [-2.543955, -44.190227], [-2.544002, -44.190257], [-2.544079, -44.190387], [-2.544116, -44.190447], [-2.544135, -44.190488], [-2.544151, -44.190529], [-2.544172, -44.1906], [-2.544195, -44.190679], [-2.544224, -44.190729], [-2.544255, -44.190768], [-2.544296, -44.190804], [-2.544334, -44.190835], [-2.544376, -44.190844], [-2.544442, -44.190827], [-2.544462, -44.19082], [-2.54449, -44.190826], [-2.544511, -44.190843], [-2.544542, -44.190892], [-2.54457, -44.190928], [-2.544599, -44.190982], [-2.544605, -44.191038], [-2.544598, -44.191094], [-2.5446, -44.19112], [-2.544603, -44.191142], [-2.544628, -44.191195], [-2.544646, -44.191215], [-2.544669, -44.191233], [-2.544709, -44.191254], [-2.544738, -44.191273], [-2.544767, -44.191316], [-2.544783, -44.191372], [-2.544781, -44.191403], [-2.544779, -44.191432], [-2.54476, -44.191497], [-2.544744, -44.191554], [-2.544743, -44.191586], [-2.544764, -44.191618], [-2.544823, -44.191691], [-2.544894, -44.1918], [-2.544995, -44.191889], [-2.545127, -44.191983], [-2.545174, -44.192005], [-2.545211, -44.192017], [-2.545256, -44.192031], [-2.54533, -44.192046], [-2.545427, -44.192073], [-2.545455, -44.19208], [-2.545482, -44.192086], [-2.54552, -44.192088], [-2.545532, -44.192093], [-2.545543, -44.192104], [-2.545556, -44.192124], [-2.545575, -44.192141], [-2.545593, -44.192153], [-2.54569, -44.192202], [-2.545789, -44.192224], [-2.54581, -44.192242], [-2.545842, -44.192284], [-2.545857, -44.192308], [-2.545877, -44.192343], [-2.545894, -44.192415], [-2.545911, -44.192486], [-2.545909, -44.192551], [-2.545904, -44.192608], [-2.545893, -44.192661], [-2.545877, -44.192706], [-2.545886, -44.19273], [-2.545908, -44.192754], [-2.545942, -44.192776], [-2.545972, -44.192783], [-2.546104, -44.192776], [-2.546139, -44.192769], [-2.546157, -44.19277], [-2.546178, -44.192778], [-2.546196, -44.192794], [-2.546209, -44.192806], [-2.546229, -44.19284], [-2.547223, -44.192258], [-2.547244, -44.192246], [-2.547311, -44.192207], [-2.547397, -44.192187], [-2.548242, -44.191994], [-2.548955, -44.191831], [-2.549027, -44.191814], [-2.549526, -44.1917], [-2.550592, -44.191457], [-2.551963, -44.191143], [-2.553754, -44.190734], [-2.553716, -44.190332], [-2.553687, -44.190145], [-2.553618, -44.189891], [-2.553563, -44.18973], [-2.55345, -44.189425], [-2.553267, -44.188981], [-2.55309, -44.188546], [-2.553038, -44.188418], [-2.552853, -44.187966], [-2.552639, -44.187439], [-2.55261, -44.18737], [-2.55251, -44.187129], [-2.552432, -44.186895], [-2.552375, -44.186587], [-2.552332, -44.18596], [-2.552328, -44.185904], [-2.552298, -44.185509], [-2.552276, -44.185065], [-2.552235, -44.184333], [-2.552207, -44.18383], [-2.552199, -44.183683], [-2.552137, -44.182577], [-2.552131, -44.182475], [-2.55213, -44.182458], [-2.55211, -44.182109], [-2.552099, -44.18162], [-2.552033, -44.180406], [-2.552016, -44.180101], [-2.55194, -44.178729], [-2.551895, -44.177901], [-2.551893, -44.177878], [-2.551884, -44.177697], [-2.551833, -44.176693], [-2.551828, -44.176611], [-2.551792, -44.175979], [-2.551775, -44.175759], [-2.551779, -44.175253], [-2.551779, -44.175167], [-2.551778, -44.174912], [-2.551776, -44.174727], [-2.551817, -44.174366], [-2.551853, -44.17374], [-2.551891, -44.173196], [-2.551907, -44.172976], [-2.55199, -44.171805], [-2.552055, -44.170866], [-2.552038, -44.169163], [-2.552031, -44.168906], [-2.55203, -44.168691], [-2.551957, -44.167614], [-2.551901, -44.166917], [-2.551896, -44.166826], [-2.551865, -44.166275], [-2.551817, -44.165538], [-2.551767, -44.164662], [-2.551766, -44.164646], [-2.551682, -44.163489], [-2.551636, -44.162943], [-2.551594, -44.162407], [-2.551556, -44.161761], [-2.551528, -44.161429], [-2.55151, -44.161099], [-2.551501, -44.160837], [-2.551495, -44.160676], [-2.551488, -44.160408], [-2.551488, -44.160184], [-2.551521, -44.159583], [-2.551552, -44.15915], [-2.551581, -44.15856], [-2.551642, -44.157848], [-2.551686, -44.157425], [-2.551795, -44.156367], [-2.551899, -44.155492], [-2.551942, -44.155045], [-2.551947, -44.155008], [-2.551954, -44.154918], [-2.551982, -44.154559], [-2.552001, -44.154164], [-2.552003, -44.154079], [-2.552015, -44.153407], [-2.55201, -44.152886], [-2.552011, -44.152231], [-2.55202, -44.151886], [-2.55203, -44.151756], [-2.552049, -44.15134], [-2.55208, -44.151086], [-2.552098, -44.150959], [-2.552241, -44.150196], [-2.552297, -44.149903], [-2.552369, -44.149642], [-2.552494, -44.149151], [-2.552721, -44.14834], [-2.552866, -44.147903], [-2.552925, -44.147746], [-2.55299, -44.147613], [-2.553211, -44.147215], [-2.553485, -44.146764], [-2.553677, -44.14646], [-2.553893, -44.146093], [-2.554088, -44.145699], [-2.554224, -44.145417], [-2.554384, -44.144972], [-2.554468, -44.144681], [-2.554556, -44.144345], [-2.554616, -44.144005], [-2.554638, -44.143725], [-2.55465, -44.143487], [-2.554689, -44.142317], [-2.554701, -44.141879], [-2.554667, -44.141232], [-2.554647, -44.140869], [-2.554511, -44.139592], [-2.554368, -44.138291], [-2.55433, -44.137895], [-2.554277, -44.13748], [-2.554264, -44.137395], [-2.554069, -44.136573], [-2.554058, -44.136527], [-2.554045, -44.136488], [-2.553377, -44.134689], [-2.553353, -44.13462], [-2.55304, -44.133781], [-2.552965, -44.133556], [-2.552936, -44.133448], [-2.552914, -44.133346], [-2.55289, -44.133227], [-2.552815, -44.132753], [-2.552678, -44.131893], [-2.552173, -44.129693], [-2.552047, -44.129231], [-2.551914, -44.128743], [-2.551614, -44.127641], [-2.551553, -44.127417], [-2.551061, -44.125611], [-2.550251, -44.122549], [-2.550079, -44.121898], [-2.549965, -44.121465], [-2.549265, -44.118807], [-2.549222, -44.118644], [-2.549163, -44.11842], [-2.549127, -44.118203], [-2.549107, -44.118083], [-2.549059, -44.118029], [-2.549007, -44.117985], [-2.54881, -44.117816], [-2.548718, -44.117728], [-2.54867, -44.117656], [-2.548614, -44.11756], [-2.548382, -44.117239], [-2.548244, -44.117049], [-2.548048, -44.116753], [-2.547947, -44.116557], [-2.547908, -44.11647], [-2.54787, -44.116365], [-2.547811, -44.116183], [-2.547749, -44.11601], [-2.547387, -44.114893], [-2.547209, -44.114439], [-2.547122, -44.114238], [-2.546825, -44.113609], [-2.546755, -44.113468], [-2.545975, -44.111812], [-2.545897, -44.111672], [-2.545823, -44.1115], [-2.545702, -44.111156], [-2.545612, -44.110905], [-2.545439, -44.110347], [-2.545393, -44.110188], [-2.544931, -44.108499], [-2.544768, -44.107779], [-2.544748, -44.107688], [-2.544752, -44.107646], [-2.544815, -44.107517], [-2.544932, -44.107229], [-2.545297, -44.106336], [-2.545377, -44.106141], [-2.545467, -44.105931], [-2.545646, -44.105514], [-2.545827, -44.105091], [-2.546103, -44.104448], [-2.546305, -44.103977], [-2.546587, -44.103256], [-2.546612, -44.103176], [-2.546636, -44.103057], [-2.546676, -44.102854], [-2.546711, -44.102634], [-2.54672, -44.102493], [-2.546688, -44.102257], [-2.546419, -44.101118], [-2.54616, -44.099961], [-2.546031, -44.099399], [-2.545589, -44.097495], [-2.545504, -44.097116], [-2.545288, -44.096068], [-2.545253, -44.095816], [-2.545064, -44.094633], [-2.544936, -44.093755], [-2.544744, -44.092216], [-2.544591, -44.090941], [-2.544378, -44.089215], [-2.544172, -44.087652], [-2.544078, -44.086785], [-2.544076, -44.086583], [-2.544098, -44.086392], [-2.544117, -44.086203], [-2.544157, -44.086011], [-2.544211, -44.085855], [-2.544279, -44.085704], [-2.54431, -44.085649], [-2.544467, -44.085389], [-2.544675, -44.085111], [-2.544783, -44.085001], [-2.544903, -44.084881], [-2.545496, -44.08437], [-2.545519, -44.084339], [-2.545531, -44.08431], [-2.545565, -44.084095], [-2.545643, -44.083565], [-2.545634, -44.083506], [-2.54558, -44.08348], [-2.545534, -44.083487], [-2.545492, -44.08348], [-2.545434, -44.08342], [-2.545178, -44.083057], [-2.545242, -44.082752], [-2.545244, -44.082618], [-2.545227, -44.082514], [-2.5452, -44.082407], [-2.545186, -44.082374], [-2.545131, -44.08228], [-2.544753, -44.081691], [-2.544535, -44.08135], [-2.543851, -44.08166], [-2.543541, -44.081801], [-2.543293, -44.081858], [-2.543173, -44.081876], [-2.54281, -44.082004], [-2.542517, -44.082007], [-2.542437, -44.082008], [-2.542396, -44.08201], [-2.541612, -44.081976], [-2.541651, -44.081499], [-2.541716, -44.080706], [-2.54173, -44.079975], [-2.54182, -44.079417], [-2.541812, -44.078784], [-2.542337, -44.077105], [-2.54229, -44.07707], [-2.542265, -44.077051], [-2.541999, -44.077196], [-2.541914, -44.077239], [-2.541618, -44.077346], [-2.541518, -44.077374], [-2.540677, -44.077403], [-2.540357, -44.077492], [-2.540332, -44.077523], [-2.540001, -44.077753], [-2.539777, -44.077832], [-2.538723, -44.078207], [-2.538479, -44.078323], [-2.538061, -44.078522], [-2.537649, -44.07879], [-2.537474, -44.078818], [-2.537103, -44.078347], [-2.537036, -44.078252], [-2.536999, -44.078157], [-2.536772, -44.077412], [-2.536758, -44.077353], [-2.536739, -44.077316], [-2.536708, -44.077294], [-2.536667, -44.077274], [-2.536286, -44.077163], [-2.53624, -44.077148], [-2.536197, -44.077126], [-2.535937, -44.076961], [-2.535881, -44.076938], [-2.535839, -44.076946], [-2.535813, -44.076962], [-2.534816, -44.077594], [-2.534789, -44.077607], [-2.534775, -44.077607], [-2.534758, -44.077594], [-2.534739, -44.077548], [-2.534666, -44.077358], [-2.534255, -44.076296], [-2.534078, -44.075947], [-2.53379, -44.075265], [-2.533726, -44.075095], [-2.533709, -44.075012], [-2.53371, -44.074947], [-2.530362, -44.074936], [-2.5303, -44.074938], [-2.530267, -44.074913], [-2.529971, -44.074652], [-2.52953, -44.074255], [-2.52895, -44.073712], [-2.528868, -44.073634], [-2.528757, -44.073536], [-2.528611, -44.073392], [-2.528339, -44.073141], [-2.528305, -44.073109], [-2.528022, -44.072865], [-2.527974, -44.072812], [-2.527908, -44.072736], [-2.527891, -44.07271], [-2.527727, -44.07248], [-2.527706, -44.072446], [-2.527693, -44.072408], [-2.527684, -44.072352], [-2.527664, -44.072239], [-2.52765, -44.072193], [-2.527549, -44.071966], [-2.527489, -44.071789], [-2.527404, -44.071578], [-2.527375, -44.071545], [-2.527335, -44.071542], [-2.52673, -44.072023], [-2.526449, -44.072246], [-2.525023, -44.073281], [-2.524793, -44.071936], [-2.524783, -44.071881], [-2.524716, -44.071519], [-2.524764, -44.07106], [-2.524892, -44.069816], [-2.524951, -44.069245], [-2.525741, -44.068918], [-2.526694, -44.068524], [-2.52675, -44.068493], [-2.526764, -44.068093], [-2.526845, -44.067568], [-2.526889, -44.067279], [-2.526954, -44.066845], [-2.527018, -44.06627], [-2.527066, -44.065915], [-2.527071, -44.065889], [-2.52721, -44.065156], [-2.527216, -44.065019], [-2.527211, -44.064946], [-2.527179, -44.064791], [-2.527152, -44.064709], [-2.527108, -44.064631], [-2.527039, -44.064519], [-2.526983, -44.064449], [-2.526917, -44.064409], [-2.52688, -44.064371], [-2.526833, -44.064277], [-2.526742, -44.06411], [-2.52671, -44.06401], [-2.526677, -44.06391], [-2.52659, -44.063749], [-2.526496, -44.06366], [-2.526332, -44.063476], [-2.526221, -44.063338], [-2.526113, -44.063198], [-2.52602, -44.063053], [-2.525962, -44.06298], [-2.525907, -44.062941], [-2.52583, -44.062906], [-2.525669, -44.062864], [-2.525556, -44.062828], [-2.52544, -44.062812], [-2.525319, -44.062819], [-2.525275, -44.062808], [-2.525234, -44.062788], [-2.525194, -44.062758], [-2.525138, -44.062722], [-2.525062, -44.062672], [-2.525011, -44.062651], [-2.524943, -44.062641], [-2.52485, -44.062645], [-2.524749, -44.062632], [-2.5247, -44.06264], [-2.524659, -44.062645], [-2.524618, -44.062672], [-2.524584, -44.062679], [-2.524559, -44.062664], [-2.524548, -44.062648], [-2.524538, -44.062619], [-2.524548, -44.06259], [-2.52469, -44.062473], [-2.524726, -44.062398], [-2.524729, -44.062351], [-2.524724, -44.062307], [-2.524701, -44.062264], [-2.524666, -44.062231], [-2.524478, -44.062214], [-2.52442, -44.062208], [-2.524347, -44.062216], [-2.524275, -44.062292], [-2.524203, -44.062369], [-2.524165, -44.062429], [-2.524158, -44.062487], [-2.524155, -44.062607], [-2.524135, -44.06262], [-2.5241, -44.062621], [-2.524057, -44.062609], [-2.52404, -44.062593], [-2.524033, -44.062571], [-2.524011, -44.062496], [-2.523985, -44.062429], [-2.523938, -44.062382], [-2.523886, -44.06236], [-2.523775, -44.06234], [-2.523684, -44.062165], [-2.523672, -44.062109], [-2.523657, -44.062027], [-2.523662, -44.06198], [-2.52366, -44.061929], [-2.523576, -44.061881], [-2.523543, -44.061841], [-2.523528, -44.061795], [-2.523525, -44.061718], [-2.523513, -44.061567], [-2.523509, -44.061448], [-2.523514, -44.061384], [-2.523528, -44.061334], [-2.523619, -44.061061], [-2.523631, -44.061042], [-2.523773, -44.060827], [-2.523811, -44.060761], [-2.52383, -44.060729], [-2.523831, -44.060695], [-2.523825, -44.060667], [-2.523808, -44.060638], [-2.523768, -44.060584], [-2.523726, -44.060553], [-2.523687, -44.06053], [-2.523649, -44.060511], [-2.523596, -44.060495], [-2.523532, -44.060488], [-2.523482, -44.060479], [-2.523419, -44.060448], [-2.523329, -44.060395], [-2.523278, -44.060352], [-2.523236, -44.060302], [-2.523214, -44.060251], [-2.523207, -44.060209], [-2.523209, -44.060158], [-2.523229, -44.060086], [-2.523242, -44.060038], [-2.523232, -44.059967], [-2.523246, -44.059924], [-2.523348, -44.059784], [-2.523497, -44.059611], [-2.523503, -44.05957], [-2.52349, -44.059526], [-2.523398, -44.059455], [-2.523343, -44.059432], [-2.523226, -44.059401], [-2.523132, -44.059385], [-2.52308, -44.059379], [-2.523011, -44.059376], [-2.522933, -44.059401], [-2.522869, -44.059441], [-2.522797, -44.059512], [-2.522708, -44.059572], [-2.52261, -44.059636], [-2.522556, -44.059666], [-2.52252, -44.059671], [-2.522464, -44.05967], [-2.522328, -44.059626], [-2.52223, -44.059578], [-2.522184, -44.059544], [-2.522111, -44.059508], [-2.522047, -44.059482], [-2.522004, -44.059466], [-2.521949, -44.059464], [-2.521886, -44.059474], [-2.521743, -44.059506], [-2.521661, -44.059527], [-2.521576, -44.059563], [-2.521538, -44.059586], [-2.521516, -44.059613], [-2.5215, -44.059648], [-2.521467, -44.059738], [-2.521386, -44.059875], [-2.521307, -44.059997], [-2.521225, -44.060117], [-2.521154, -44.060177], [-2.521088, -44.060215], [-2.520836, -44.060335], [-2.520475, -44.060471], [-2.520236, -44.060545], [-2.520116, -44.060581], [-2.519971, -44.060598], [-2.519821, -44.060612], [-2.519678, -44.060592], [-2.519383, -44.060472], [-2.519015, -44.060316], [-2.518144, -44.059872], [-2.51779, -44.059726], [-2.517514, -44.059642], [-2.517242, -44.059581], [-2.516959, -44.059554], [-2.516816, -44.059572], [-2.516732, -44.059588], [-2.516555, -44.059647], [-2.516404, -44.059742], [-2.516294, -44.059829], [-2.516014, -44.060154], [-2.515795, -44.060478], [-2.515718, -44.060703], [-2.515662, -44.060963], [-2.515587, -44.061484], [-2.515528, -44.061988], [-2.515522, -44.062596], [-2.515527, -44.062681], [-2.515609, -44.063172], [-2.515642, -44.063395], [-2.51563, -44.063513], [-2.515607, -44.063597], [-2.515556, -44.063653], [-2.515486, -44.063692], [-2.515404, -44.063732], [-2.51533, -44.063743], [-2.514906, -44.063681], [-2.514573, -44.063583], [-2.514235, -44.063467], [-2.513827, -44.063362], [-2.513299, -44.06327], [-2.512745, -44.063206], [-2.511647, -44.06317], [-2.510371, -44.063142], [-2.510026, -44.063065], [-2.509657, -44.062897], [-2.508872, -44.062396], [-2.507942, -44.061704], [-2.50678, -44.060839], [-2.505925, -44.059948], [-2.504578, -44.059118], [-2.50225, -44.058633], [-2.500735, -44.058377], [-2.500329, -44.058362], [-2.499194, -44.058321], [-2.497293, -44.058367], [-2.495766, -44.058747], [-2.494025, -44.059495], [-2.492331, -44.06015], [-2.490674, -44.060566], [-2.489146, -44.060864], [-2.486347, -44.061096], [-2.485138, -44.061095], [-2.478057, -44.060306], [-2.473068, -44.059474], [-2.469532, -44.058555], [-2.46888, -44.058372], [-2.46761, -44.057757], [-2.466842, -44.057317], [-2.466212, -44.056874], [-2.465748, -44.056317], [-2.46562, -44.055957], [-2.465436, -44.055113], [-2.465384, -44.054582], [-2.46543, -44.053767], [-2.465543, -44.053244], [-2.465689, -44.052797], [-2.466143, -44.052306], [-2.46645, -44.052389], [-2.466583, -44.052389], [-2.466761, -44.052478], [-2.468808, -44.052653], [-2.470319, -44.052516], [-2.471659, -44.051443], [-2.47317, -44.05046], [-2.474561, -44.049568], [-2.475447, -44.048826], [-2.476334, -44.048117], [-2.477238, -44.047366], [-2.483363, -44.041885], [-2.491797, -44.034288], [-2.495493, -44.031417], [-2.498622, -44.028933], [-2.500497, -44.027452], [-2.50064, -44.027338], [-2.501661, -44.026723], [-2.502863, -44.026061], [-2.504117, -44.025575], [-2.504351, -44.025454], [-2.504945, -44.025146], [-2.506513, -44.024445], [-2.507613, -44.023995], [-2.508293, -44.02386], [-2.509015, -44.023785], [-2.509974, -44.023856], [-2.511038, -44.023829], [-2.511878, -44.023913], [-2.511969, -44.023922], [-2.512635, -44.024065], [-2.51313, -44.024191], [-2.513537, -44.024399], [-2.514048, -44.024875], [-2.514377, -44.025192], [-2.515117, -44.026028], [-2.515723, -44.026381], [-2.516164, -44.026601], [-2.516541, -44.02672], [-2.51692, -44.02684], [-2.51749, -44.027102], [-2.51816, -44.027473], [-2.518776, -44.027712], [-2.51925, -44.027788], [-2.519768, -44.027831], [-2.520578, -44.027843], [-2.520632, -44.027839], [-2.52163, -44.027769], [-2.522938, -44.02761], [-2.524262, -44.027442], [-2.524485, -44.027406], [-2.525122, -44.027304], [-2.526503, -44.027132], [-2.526572, -44.027118], [-2.527446, -44.027042], [-2.527887, -44.027004], [-2.527914, -44.027004], [-2.528911, -44.026947], [-2.529645, -44.027223], [-2.530061, -44.027457], [-2.530131, -44.027832], [-2.530036, -44.028361], [-2.530037, -44.028903], [-2.530108, -44.029457], [-2.530305, -44.029963], [-2.530609, -44.030513], [-2.530995, -44.030772], [-2.531503, -44.031107], [-2.531798, -44.03136], [-2.53201, -44.031908], [-2.53218, -44.032499], [-2.532592, -44.033288], [-2.533253, -44.033751], [-2.533998, -44.034059], [-2.535052, -44.034267], [-2.536206, -44.034392], [-2.53719, -44.034305], [-2.538302, -44.034346], [-2.539385, -44.034315], [-2.539612, -44.034315], [-2.540017, -44.034314], [-2.541124, -44.034134], [-2.541962, -44.033888], [-2.542851, -44.033706], [-2.543758, -44.033706], [-2.5449, -44.033812], [-2.545506, -44.033894], [-2.545542, -44.033906], [-2.546184, -44.033974], [-2.549903, -44.034017], [-2.550254, -44.034093], [-2.550868, -44.034365], [-2.550912, -44.034376], [-2.551594, -44.034583], [-2.552066, -44.034747], [-2.552528, -44.034879], [-2.55299, -44.034966], [-2.553573, -44.035097], [-2.554056, -44.035228], [-2.554617, -44.035469], [-2.555211, -44.035698], [-2.55575, -44.035851], [-2.556282, -44.035935], [-2.556544, -44.036063], [-2.556688, -44.036161], [-2.556873, -44.036439], [-2.557007, -44.036718], [-2.557012, -44.036914], [-2.557079, -44.037152], [-2.557167, -44.037303], [-2.557371, -44.037662], [-2.557518, -44.038165], [-2.557528, -44.038193], [-2.557558, -44.038528], [-2.557577, -44.039059], [-2.557576, -44.039595], [-2.55754, -44.039906], [-2.557512, -44.040282], [-2.557364, -44.04061], [-2.557152, -44.040914], [-2.556996, -44.041161], [-2.556992, -44.041173], [-2.556771, -44.041429], [-2.556526, -44.041675], [-2.556526, -44.041683], [-2.5562, -44.041896], [-2.555919, -44.042023], [-2.555667, -44.042174], [-2.555459, -44.042341], [-2.555342, -44.042521], [-2.55521, -44.042668], [-2.555207, -44.042676], [-2.555133, -44.042745], [-2.554954, -44.042856], [-2.554841, -44.042932], [-2.554838, -44.042937], [-2.554687, -44.043072], [-2.554536, -44.043207], [-2.554442, -44.043357], [-2.554391, -44.043481], [-2.554391, -44.043489], [-2.554358, -44.043593], [-2.554321, -44.043755], [-2.554318, -44.043769], [-2.554267, -44.043949], [-2.554264, -44.043968], [-2.55424, -44.044175], [-2.554216, -44.044377], [-2.554213, -44.044533], [-2.554211, -44.044764], [-2.554202, -44.045051], [-2.554202, -44.045057], [-2.554202, -44.04508], [-2.554202, -44.045099], [-2.554203, -44.045367], [-2.554206, -44.04539], [-2.554206, -44.045403], [-2.554223, -44.045686], [-2.554226, -44.045741], [-2.554207, -44.04598], [-2.554175, -44.046216], [-2.554171, -44.046232], [-2.554159, -44.046416], [-2.554153, -44.046641], [-2.554169, -44.046827], [-2.554222, -44.047082], [-2.554265, -44.047203], [-2.554343, -44.047323], [-2.554412, -44.047411], [-2.554554, -44.047514], [-2.554631, -44.047643], [-2.554634, -44.047652], [-2.554708, -44.047831], [-2.554711, -44.047841], [-2.554728, -44.048064], [-2.554728, -44.048077], [-2.554719, -44.048332], [-2.554689, -44.048549], [-2.554676, -44.048675], [-2.554653, -44.048805], [-2.554623, -44.048948], [-2.554634, -44.049031], [-2.554704, -44.049161], [-2.554781, -44.049295], [-2.554901, -44.049424], [-2.555077, -44.049637], [-2.555187, -44.049796], [-2.555197, -44.049816], [-2.55526, -44.049976], [-2.55533, -44.050115], [-2.555337, -44.050122], [-2.555497, -44.050327], [-2.55551, -44.050344], [-2.555687, -44.05055], [-2.555693, -44.05056], [-2.555757, -44.050753], [-2.555764, -44.050763], [-2.55579, -44.050922], [-2.55581, -44.051068], [-2.555848, -44.051178], [-2.556021, -44.051744], [-2.556271, -44.052297], [-2.55636, -44.052416], [-2.556566, -44.05269], [-2.556639, -44.052723], [-2.556974, -44.052878], [-2.557772, -44.053094], [-2.558611, -44.053261], [-2.558718, -44.053282], [-2.559005, -44.053339], [-2.560094, -44.053511], [-2.561069, -44.053612], [-2.561767, -44.053741], [-2.562467, -44.053799], [-2.562857, -44.053785], [-2.563304, -44.05361], [-2.56332, -44.05361], [-2.56347, -44.053542], [-2.563649, -44.053441], [-2.56376, -44.053361], [-2.56378, -44.053349], [-2.5639, -44.053265], [-2.563912, -44.053257], [-2.564003, -44.053235], [-2.564035, -44.053227], [-2.564194, -44.053239], [-2.56433, -44.053262], [-2.564466, -44.053326], [-2.564496, -44.053354], [-2.56459, -44.053445], [-2.564666, -44.053573], [-2.564714, -44.053697], [-2.564731, -44.053741], [-2.564739, -44.053769], [-2.564731, -44.053957], [-2.564727, -44.053973], [-2.564723, -44.053985], [-2.564683, -44.054145], [-2.564572, -44.054398], [-2.564457, -44.054653], [-2.564366, -44.05484], [-2.564304, -44.054947], [-2.5643, -44.054966], [-2.564161, -44.055227], [-2.56415, -44.055249], [-2.564054, -44.055438], [-2.56405, -44.05546], [-2.563988, -44.055681], [-2.56399, -44.055846], [-2.56399, -44.056008], [-2.56399, -44.056019], [-2.563979, -44.056223], [-2.563976, -44.056238], [-2.563946, -44.056446], [-2.563938, -44.056465], [-2.563874, -44.056613], [-2.563802, -44.056676], [-2.563791, -44.056686], [-2.563729, -44.056741], [-2.563493, -44.056879], [-2.56335, -44.056982], [-2.563346, -44.056986], [-2.563248, -44.057101], [-2.563116, -44.057282], [-2.563098, -44.0573], [-2.563065, -44.057336], [-2.562947, -44.05746], [-2.562747, -44.057589], [-2.56248, -44.057726], [-2.562262, -44.0579], [-2.562083, -44.058048], [-2.562079, -44.058061], [-2.561931, -44.058222], [-2.561824, -44.058406], [-2.561794, -44.05859], [-2.561784, -44.058656], [-2.561779, -44.058853], [-2.561766, -44.058961], [-2.561726, -44.059213], [-2.56169, -44.059424], [-2.561661, -44.059539], [-2.561641, -44.059618], [-2.561547, -44.059733], [-2.561501, -44.059806], [-2.56131, -44.060107], [-2.560967, -44.060647], [-2.560565, -44.06128], [-2.560551, -44.061316], [-2.56035, -44.061545], [-2.560157, -44.061764], [-2.560114, -44.061829], [-2.560092, -44.061851], [-2.560078, -44.06188], [-2.559938, -44.062133], [-2.559902, -44.062198], [-2.55982, -44.062348], [-2.559817, -44.06236], [-2.559799, -44.062419], [-2.55977, -44.062506], [-2.559749, -44.062571], [-2.559726, -44.062645], [-2.559697, -44.06274], [-2.559558, -44.063195], [-2.559557, -44.063198], [-2.55955, -44.063621], [-2.559629, -44.063901], [-2.559802, -44.064181], [-2.559781, -44.064397], [-2.559773, -44.064433], [-2.559773, -44.064443], [-2.559767, -44.0649], [-2.559741, -44.065058], [-2.559741, -44.065061], [-2.559724, -44.065159], [-2.559639, -44.065434], [-2.559472, -44.065854], [-2.559459, -44.065873], [-2.559449, -44.065956], [-2.559386, -44.06646], [-2.559318, -44.066755], [-2.559294, -44.067189], [-2.559245, -44.067585], [-2.559215, -44.067949], [-2.559219, -44.067988], [-2.559246, -44.068221], [-2.559327, -44.068438], [-2.559334, -44.068456], [-2.55939, -44.068605], [-2.559402, -44.068642], [-2.559385, -44.068782], [-2.559384, -44.068791], [-2.559372, -44.06889], [-2.559286, -44.069287], [-2.559286, -44.069584], [-2.55925, -44.069944], [-2.559213, -44.070279], [-2.559225, -44.07056], [-2.559266, -44.070998], [-2.559377, -44.071306], [-2.559543, -44.071605], [-2.559741, -44.071882], [-2.560066, -44.072206], [-2.560414, -44.072624], [-2.560762, -44.073043], [-2.560929, -44.07324], [-2.561087, -44.073714], [-2.561293, -44.074156], [-2.561484, -44.074496], [-2.561659, -44.074923], [-2.561738, -44.075192], [-2.561723, -44.075666], [-2.56173, -44.075862], [-2.561752, -44.075921], [-2.561793, -44.076034], [-2.561928, -44.07624], [-2.562055, -44.076453], [-2.562232, -44.076746], [-2.562479, -44.077126], [-2.56265, -44.077553], [-2.562666, -44.077584], [-2.562831, -44.078247], [-2.562862, -44.078285], [-2.563081, -44.079033], [-2.563089, -44.079056], [-2.563191, -44.079468], [-2.563198, -44.079491], [-2.563347, -44.079856], [-2.563386, -44.079887], [-2.563534, -44.080143], [-2.563581, -44.080346], [-2.563581, -44.080533], [-2.563294, -44.080704], [-2.563247, -44.080712], [-2.563232, -44.080728], [-2.562821, -44.08083], [-2.562574, -44.081078], [-2.562551, -44.081451], [-2.562737, -44.081653], [-2.562753, -44.081661], [-2.563134, -44.081878], [-2.563739, -44.08211], [-2.563895, -44.082234], [-2.56448, -44.082298], [-2.564528, -44.082322], [-2.564577, -44.082347], [-2.56461, -44.082363], [-2.565146, -44.082622], [-2.565162, -44.08263], [-2.565657, -44.083026], [-2.566302, -44.083219], [-2.566862, -44.083291], [-2.567544, -44.083476], [-2.568142, -44.083589], [-2.568725, -44.083782], [-2.569743, -44.084542], [-2.570697, -44.085261], [-2.570756, -44.08532], [-2.571403, -44.086373], [-2.571441, -44.08649], [-2.57181, -44.087289], [-2.571849, -44.087347], [-2.572018, -44.087986], [-2.572045, -44.088089], [-2.572106, -44.088791], [-2.572729, -44.089318], [-2.573374, -44.089863], [-2.573783, -44.090488], [-2.573822, -44.090528], [-2.573919, -44.090836], [-2.574136, -44.091524], [-2.574207, -44.09171], [-2.57439, -44.092189], [-2.574744, -44.092812], [-2.575603, -44.093241], [-2.576912, -44.093474], [-2.578707, -44.093488], [-2.580796, -44.093523], [-2.582669, -44.093227], [-2.583418, -44.093165], [-2.584082, -44.092971], [-2.584184, -44.092949], [-2.584228, -44.092926], [-2.585345, -44.092687], [-2.58664, -44.092414], [-2.587608, -44.092197], [-2.588871, -44.092409], [-2.588939, -44.092443], [-2.58999, -44.09296], [-2.59008, -44.092983], [-2.590126, -44.093005], [-2.590905, -44.093546], [-2.591172, -44.093738], [-2.591749, -44.094553], [-2.591786, -44.094609], [-2.592307, -44.096053], [-2.592326, -44.096109], [-2.592585, -44.096941], [-2.593235, -44.09831], [-2.593291, -44.098403], [-2.594367, -44.099865], [-2.594441, -44.09992], [-2.594639, -44.100137], [-2.595517, -44.101104], [-2.597056, -44.102343], [-2.597093, -44.102361], [-2.59876, -44.103266], [-2.598872, -44.10334], [-2.60002, -44.103949], [-2.601649, -44.104741], [-2.601942, -44.104864], [-2.602127, -44.104941], [-2.602592, -44.10498], [-2.602974, -44.105037], [-2.603116, -44.105201], [-2.603225, -44.105422], [-2.603257, -44.105522], [-2.603277, -44.105581], [-2.603373, -44.105665], [-2.603476, -44.105686], [-2.60357, -44.105705], [-2.603768, -44.105704], [-2.604005, -44.105647], [-2.604254, -44.10555], [-2.605375, -44.105259], [-2.606079, -44.105093], [-2.607062, -44.104861], [-2.607231, -44.104874], [-2.607415, -44.104844], [-2.607564, -44.104815], [-2.607738, -44.104752], [-2.60798, -44.104657], [-2.608157, -44.104617], [-2.608391, -44.104639], [-2.60854, -44.104746], [-2.608667, -44.104928], [-2.608684, -44.105054], [-2.608694, -44.105233], [-2.608663, -44.105351], [-2.608626, -44.105496], [-2.608604, -44.105758], [-2.608585, -44.106077], [-2.608559, -44.10623], [-2.608575, -44.106339], [-2.60863, -44.106423], [-2.608704, -44.106481], [-2.608916, -44.106576], [-2.609505, -44.106767], [-2.609888, -44.106808], [-2.610304, -44.106799], [-2.610762, -44.106754], [-2.611228, -44.106675], [-2.611981, -44.106503], [-2.611995, -44.106503], [-2.612018, -44.106503], [-2.612589, -44.106401], [-2.612829, -44.106337], [-2.612847, -44.106333], [-2.612867, -44.106323], [-2.613372, -44.106329], [-2.61358, -44.106332], [-2.613697, -44.106442], [-2.614342, -44.107053], [-2.61455, -44.107251], [-2.615315, -44.107889], [-2.616514, -44.10794], [-2.61756, -44.107659], [-2.619168, -44.107532], [-2.620392, -44.107225], [-2.621267, -44.107633], [-2.622203, -44.107583], [-2.622688, -44.107021], [-2.625571, -44.10628], [-2.628148, -44.105616], [-2.629245, -44.105693], [-2.63012, -44.107442], [-2.630335, -44.10902], [-2.631481, -44.110993], [-2.632556, -44.112212], [-2.633738, -44.113467], [-2.636461, -44.113539], [-2.637859, -44.114939], [-2.637947, -44.115261], [-2.638253, -44.115391], [-2.638938, -44.115536], [-2.63954, -44.115615], [-2.639918, -44.115615], [-2.640414, -44.115604], [-2.6407, -44.115599], [-2.640711, -44.115599], [-2.641127, -44.115679], [-2.641144, -44.115684], [-2.641718, -44.115848], [-2.641992, -44.115978], [-2.642003, -44.115978], [-2.642214, -44.116093], [-2.642442, -44.116314], [-2.642537, -44.116576], [-2.642608, -44.11705], [-2.642629, -44.117093], [-2.642686, -44.117412], [-2.642685, -44.117816], [-2.642707, -44.117994], [-2.642828, -44.118129], [-2.643062, -44.118206], [-2.643069, -44.11822], [-2.643353, -44.118291], [-2.643374, -44.118298], [-2.643835, -44.118353], [-2.643863, -44.118353], [-2.644334, -44.11851], [-2.644668, -44.118637], [-2.644696, -44.118651], [-2.64523, -44.119006], [-2.645847, -44.119353], [-2.646338, -44.119743], [-2.646609, -44.120161], [-2.646765, -44.120424], [-2.646795, -44.120768], [-2.646808, -44.120806], [-2.646815, -44.120857], [-2.646828, -44.120889], [-2.646828, -44.120908], [-2.646904, -44.121258], [-2.646917, -44.121308], [-2.646917, -44.121341], [-2.64698, -44.121639], [-2.646987, -44.121671], [-2.646987, -44.121709], [-2.646987, -44.121741], [-2.64705, -44.121995], [-2.647063, -44.122033], [-2.64712, -44.122346], [-2.647114, -44.122384], [-2.647039, -44.122615], [-2.647032, -44.122628], [-2.646951, -44.122974], [-2.646944, -44.123012], [-2.646938, -44.123025], [-2.646857, -44.123288], [-2.646857, -44.123294], [-2.646864, -44.123607], [-2.646864, -44.123639], [-2.646921, -44.123926], [-2.646933, -44.123977], [-2.64694, -44.124003], [-2.64708, -44.124328], [-2.64708, -44.124347], [-2.647201, -44.124609], [-2.647201, -44.124615], [-2.647324, -44.124896], [-2.647324, -44.124915], [-2.647331, -44.124941], [-2.647447, -44.125183], [-2.647549, -44.125419], [-2.647741, -44.125566], [-2.647754, -44.125572], [-2.64799, -44.125655], [-2.648244, -44.125578], [-2.648385, -44.125509], [-2.648531, -44.125387], [-2.648691, -44.125271], [-2.648792, -44.125211], [-2.649084, -44.125218], [-2.649421, -44.125217], [-2.649643, -44.125077], [-2.649819, -44.124706], [-2.649997, -44.12427], [-2.650151, -44.123877], [-2.650261, -44.123558], [-2.650235, -44.123339], [-2.650254, -44.123142], [-2.650402, -44.12303], [-2.650699, -44.123053], [-2.651115, -44.123098], [-2.651471, -44.12312], [-2.651872, -44.123227], [-2.652464, -44.123356], [-2.653015, -44.123518], [-2.653049, -44.123542], [-2.653625, -44.123739], [-2.65419, -44.12406], [-2.654602, -44.124505], [-2.654635, -44.124549], [-2.654935, -44.125124], [-2.654957, -44.125157], [-2.655024, -44.12582], [-2.655024, -44.125853], [-2.655124, -44.126606], [-2.655125, -44.126651], [-2.655216, -44.127395], [-2.655119, -44.128162], [-2.655097, -44.128229], [-2.654979, -44.128829], [-2.655099, -44.129435], [-2.655265, -44.129976], [-2.655458, -44.13063], [-2.655767, -44.131138], [-2.65602, -44.131459], [-2.656322, -44.131791], [-2.657829, -44.13255], [-2.657907, -44.132565], [-2.657968, -44.13258], [-2.657984, -44.13258], [-2.659553, -44.133089], [-2.659647, -44.133105], [-2.661498, -44.13352], [-2.661545, -44.133536], [-2.66273, -44.133893], [-2.662776, -44.133924], [-2.663228, -44.133986], [-2.663788, -44.133827], [-2.663882, -44.13378], [-2.664193, -44.133623], [-2.664602, -44.133315], [-2.66471, -44.13318], [-2.664911, -44.133096], [-2.66521, -44.132965], [-2.665472, -44.132838], [-2.665695, -44.132727], [-2.665984, -44.132599], [-2.666, -44.132588], [-2.666266, -44.132487], [-2.666505, -44.132417], [-2.666711, -44.132384], [-2.666894, -44.132399], [-2.666974, -44.132455], [-2.66704, -44.132537], [-2.667188, -44.133079], [-2.667204, -44.133128], [-2.667371, -44.133739], [-2.667488, -44.134318], [-2.667717, -44.134774], [-2.667963, -44.135105], [-2.668469, -44.135246], [-2.669025, -44.135342], [-2.669499, -44.13534], [-2.670154, -44.135318], [-2.670892, -44.135248], [-2.671372, -44.135185], [-2.671557, -44.135123], [-2.671844, -44.13509], [-2.672058, -44.1351], [-2.672357, -44.135241], [-2.672369, -44.135247], [-2.672527, -44.135483], [-2.672703, -44.135809], [-2.672916, -44.136219], [-2.673098, -44.136544], [-2.673267, -44.136736], [-2.673285, -44.136748], [-2.673446, -44.13682], [-2.673746, -44.136867], [-2.673996, -44.136902], [-2.67478, -44.136937], [-2.67479, -44.136947], [-2.67558, -44.137101], [-2.676303, -44.137129], [-2.676352, -44.137129], [-2.676372, -44.137139], [-2.67729, -44.137167], [-2.67814, -44.137068], [-2.678734, -44.137048], [-2.679163, -44.137048], [-2.679879, -44.136938], [-2.68031, -44.136982], [-2.680343, -44.136982], [-2.680828, -44.137067], [-2.680872, -44.137067], [-2.681282, -44.137233], [-2.681636, -44.137587], [-2.681826, -44.138021], [-2.681873, -44.138436], [-2.681884, -44.138833], [-2.68194, -44.139305], [-2.681995, -44.1398], [-2.682062, -44.140263], [-2.68207, -44.1409], [-2.68207, -44.140942], [-2.681968, -44.142183], [-2.682051, -44.143252], [-2.682263, -44.144493], [-2.682479, -44.145508], [-2.682522, -44.145571], [-2.682671, -44.146601], [-2.682883, -44.147107], [-2.6832, -44.147338], [-2.683576, -44.147273], [-2.683946, -44.146991], [-2.684239, -44.146715], [-2.684554, -44.146589], [-2.68487, -44.146651], [-2.68506, -44.146967], [-2.685083, -44.147705], [-2.684959, -44.148233], [-2.684439, -44.148533], [-2.684191, -44.148956], [-2.68417, -44.14925], [-2.684192, -44.149734], [-2.684256, -44.150406], [-2.684341, -44.15131], [-2.684415, -44.151885], [-2.684447, -44.152129], [-2.68451, -44.15276], [-2.684828, -44.153327], [-2.68487, -44.15339], [-2.685396, -44.154146], [-2.686007, -44.154839], [-2.686619, -44.155678], [-2.687418, -44.156686], [-2.688154, -44.157525], [-2.68868, -44.158175], [-2.689438, -44.158781], [-2.689984, -44.159242], [-2.690635, -44.159538], [-2.691488, -44.160033], [-2.693088, -44.160881], [-2.694291, -44.161425], [-2.695464, -44.161993], [-2.695579, -44.16205], [-2.696838, -44.162502], [-2.697983, -44.163241], [-2.698098, -44.163326], [-2.698872, -44.163982], [-2.698872, -44.164011], [-2.69956, -44.164725], [-2.699589, -44.164783], [-2.699676, -44.165363], [-2.699649, -44.166082], [-2.699566, -44.166948], [-2.699596, -44.167838], [-2.699685, -44.168816], [-2.699829, -44.169418], [-2.699916, -44.169935], [-2.70026, -44.170565], [-2.700547, -44.171365], [-2.700919, -44.171762], [-2.701434, -44.172102], [-2.701979, -44.172669], [-2.702124, -44.173438], [-2.702097, -44.174467], [-2.702097, -44.174496], [-2.702041, -44.175328], [-2.702053, -44.175653], [-2.701213, -44.176084], [-2.700268, -44.176489], [-2.700065, -44.176573], [-2.699892, -44.17666], [-2.699392, -44.176892], [-2.698949, -44.177171], [-2.698709, -44.177293], [-2.697903, -44.177872], [-2.69655, -44.178992], [-2.695132, -44.180216], [-2.694861, -44.180487], [-2.694523, -44.180826], [-2.694455, -44.180894], [-2.69384, -44.181496], [-2.693443, -44.181784], [-2.692911, -44.182169], [-2.69225, -44.182484], [-2.691764, -44.182615], [-2.691302, -44.182663], [-2.690921, -44.182618], [-2.690604, -44.182554], [-2.690284, -44.182481], [-2.689951, -44.182339], [-2.689625, -44.182092], [-2.689363, -44.181906], [-2.689058, -44.181635], [-2.688512, -44.181045], [-2.687926, -44.180267], [-2.687755, -44.179973], [-2.687529, -44.179477], [-2.687359, -44.179094], [-2.68719, -44.178789], [-2.686987, -44.178416], [-2.686953, -44.178348], [-2.686483, -44.177408], [-2.685944, -44.176528], [-2.685386, -44.175717], [-2.684909, -44.174966], [-2.684781, -44.174752], [-2.684652, -44.17458], [-2.684524, -44.174387], [-2.684357, -44.174145], [-2.684169, -44.173785], [-2.684062, -44.173528], [-2.683955, -44.173313], [-2.683848, -44.173142], [-2.683741, -44.172927], [-2.683634, -44.172713], [-2.683527, -44.172499], [-2.683377, -44.17217], [-2.683303, -44.172021], [-2.683172, -44.171817], [-2.683045, -44.171648], [-2.682903, -44.171465], [-2.682839, -44.171401], [-2.682594, -44.171158], [-2.682435, -44.171021], [-2.68238, -44.170986], [-2.68218, -44.170888], [-2.681944, -44.170792], [-2.681647, -44.170678], [-2.681406, -44.170591], [-2.681213, -44.170505], [-2.680978, -44.17044], [-2.680767, -44.170388], [-2.680571, -44.170355], [-2.680275, -44.170316], [-2.680128, -44.170285], [-2.679771, -44.170173], [-2.679547, -44.170085], [-2.67923, -44.169954], [-2.678676, -44.169694], [-2.678475, -44.169642], [-2.678248, -44.169602], [-2.678055, -44.169587], [-2.677807, -44.169576], [-2.677563, -44.169587], [-2.677373, -44.169629], [-2.677156, -44.169724], [-2.676827, -44.169927], [-2.676606, -44.170088], [-2.676428, -44.170255], [-2.676214, -44.170451], [-2.676022, -44.170665], [-2.675893, -44.170794], [-2.675592, -44.171166], [-2.675455, -44.171343], [-2.675242, -44.171577], [-2.675113, -44.171749], [-2.674942, -44.17192], [-2.674771, -44.172092], [-2.674621, -44.172221], [-2.674428, -44.172414], [-2.674235, -44.172564], [-2.674085, -44.172714], [-2.673914, -44.172864], [-2.673721, -44.173057], [-2.67355, -44.173207], [-2.673337, -44.173379], [-2.673138, -44.173522], [-2.672911, -44.173651], [-2.67274, -44.173716], [-2.67215, -44.174001], [-2.671735, -44.174192], [-2.671528, -44.174301], [-2.671337, -44.17436], [-2.671101, -44.174446], [-2.670865, -44.174467], [-2.670673, -44.174467], [-2.670416, -44.174467], [-2.670202, -44.174467], [-2.669987, -44.174446], [-2.669784, -44.17442], [-2.66958, -44.174387], [-2.669365, -44.174344], [-2.66913, -44.17428], [-2.668916, -44.174215], [-2.668687, -44.174158], [-2.668473, -44.174079], [-2.668223, -44.173989], [-2.668021, -44.17391], [-2.667824, -44.173833], [-2.66766, -44.173771], [-2.667237, -44.173601], [-2.666846, -44.173356], [-2.666461, -44.173102], [-2.666289, -44.172928], [-2.666151, -44.172742], [-2.666004, -44.172518], [-2.665909, -44.172285], [-2.665801, -44.172015], [-2.665672, -44.171765], [-2.665603, -44.171665], [-2.6655, -44.171563], [-2.665385, -44.171419], [-2.665246, -44.171244], [-2.665158, -44.171134], [-2.665062, -44.171045], [-2.664911, -44.170946], [-2.66481, -44.170923], [-2.664707, -44.170931], [-2.664465, -44.171033], [-2.664208, -44.171183], [-2.664037, -44.17129], [-2.663844, -44.17144], [-2.663651, -44.171569], [-2.663458, -44.171676], [-2.663244, -44.171762], [-2.663002, -44.171824], [-2.66281, -44.17187], [-2.662612, -44.171896], [-2.662397, -44.171917], [-2.662162, -44.171917], [-2.661965, -44.17189], [-2.661747, -44.171863], [-2.661514, -44.171879], [-2.66141, -44.171919], [-2.661244, -44.172018], [-2.66103, -44.172205], [-2.660823, -44.172334], [-2.660611, -44.172452], [-2.660448, -44.172501], [-2.660304, -44.17251], [-2.660094, -44.1725], [-2.659986, -44.172456], [-2.659931, -44.17239], [-2.659903, -44.172266], [-2.659907, -44.172166], [-2.659959, -44.172057], [-2.660069, -44.171834], [-2.660152, -44.17163], [-2.660151, -44.171467], [-2.660114, -44.171309], [-2.660002, -44.171163], [-2.65977, -44.17103], [-2.659562, -44.170906], [-2.659382, -44.17079], [-2.659278, -44.170721], [-2.659149, -44.170636], [-2.659005, -44.170564], [-2.658905, -44.170539], [-2.658775, -44.170524], [-2.658651, -44.170491], [-2.658526, -44.170478], [-2.658378, -44.170453], [-2.658208, -44.170428], [-2.658118, -44.170426], [-2.657988, -44.170455], [-2.657889, -44.170489], [-2.657796, -44.17053], [-2.657727, -44.170608], [-2.657697, -44.170733], [-2.657697, -44.170862], [-2.657703, -44.170965], [-2.657689, -44.171074], [-2.657652, -44.171207], [-2.657621, -44.171296], [-2.657584, -44.171391], [-2.657507, -44.171477], [-2.657406, -44.17156], [-2.657331, -44.171601], [-2.657195, -44.171632], [-2.657062, -44.171654], [-2.656942, -44.171683], [-2.656808, -44.171714], [-2.656697, -44.171741], [-2.656576, -44.171805], [-2.656465, -44.171882], [-2.656356, -44.171933], [-2.65623, -44.171997], [-2.656155, -44.172061], [-2.656067, -44.172139], [-2.656, -44.172228], [-2.655911, -44.172317], [-2.655844, -44.172406], [-2.655755, -44.172495], [-2.655667, -44.172573], [-2.65561, -44.172673], [-2.655575, -44.172801], [-2.655478, -44.172899], [-2.655421, -44.172925], [-2.655337, -44.173023], [-2.65525, -44.173126], [-2.655078, -44.173257], [-2.654834, -44.173406], [-2.654596, -44.173484], [-2.65446, -44.173592], [-2.654272, -44.173739], [-2.653928, -44.173986], [-2.653748, -44.174148], [-2.653529, -44.174309], [-2.653514, -44.174329], [-2.653422, -44.174381], [-2.653237, -44.174484], [-2.653066, -44.174589], [-2.65293, -44.174618], [-2.652678, -44.174698], [-2.652578, -44.174781], [-2.652491, -44.174946], [-2.652418, -44.175069], [-2.652315, -44.175152], [-2.652245, -44.175231], [-2.652196, -44.175281], [-2.652041, -44.175345], [-2.651931, -44.175391], [-2.651801, -44.175418], [-2.651693, -44.175401], [-2.651558, -44.175331], [-2.651444, -44.175215], [-2.651367, -44.175172], [-2.651166, -44.175181], [-2.650912, -44.175216], [-2.650725, -44.175307], [-2.650545, -44.175396], [-2.650416, -44.175517], [-2.650377, -44.175593], [-2.650328, -44.175721], [-2.650278, -44.175931], [-2.65013, -44.176401], [-2.650059, -44.17662], [-2.650032, -44.176657], [-2.650005, -44.176708], [-2.649843, -44.177016], [-2.649802, -44.177087], [-2.649597, -44.177316], [-2.649496, -44.177382], [-2.649205, -44.177484], [-2.649174, -44.177491], [-2.648806, -44.177521], [-2.648516, -44.177577], [-2.648466, -44.177587], [-2.64843, -44.177594], [-2.64829, -44.177658], [-2.648189, -44.177715], [-2.648089, -44.177753], [-2.648025, -44.177765], [-2.647955, -44.177766], [-2.647905, -44.177787], [-2.647859, -44.177816], [-2.647835, -44.177875], [-2.647828, -44.177892], [-2.647769, -44.178024], [-2.647706, -44.178089], [-2.647648, -44.178137], [-2.64759, -44.178168], [-2.647449, -44.178232], [-2.647363, -44.178289], [-2.647287, -44.178331], [-2.647191, -44.178389], [-2.647117, -44.178432], [-2.647045, -44.178462], [-2.646974, -44.178484], [-2.646923, -44.178494], [-2.646831, -44.178501], [-2.646798, -44.178504], [-2.646735, -44.178488], [-2.646694, -44.178473], [-2.646639, -44.178453], [-2.646542, -44.178401], [-2.646462, -44.178334], [-2.64642, -44.178281], [-2.64638, -44.17823], [-2.646332, -44.178191], [-2.646269, -44.178171], [-2.646228, -44.178178], [-2.646186, -44.17819], [-2.646132, -44.178192], [-2.64608, -44.178197], [-2.646033, -44.17822], [-2.645995, -44.178251], [-2.645963, -44.178302], [-2.645947, -44.178349], [-2.645936, -44.178383], [-2.645924, -44.178411], [-2.645907, -44.178422], [-2.645879, -44.178427], [-2.645853, -44.178423], [-2.64577, -44.178407], [-2.645746, -44.178396], [-2.64568, -44.178376], [-2.645635, -44.178349], [-2.645586, -44.178294], [-2.64556, -44.178277], [-2.645532, -44.178265], [-2.645479, -44.178255], [-2.645447, -44.178258], [-2.645433, -44.178256], [-2.645424, -44.17825], [-2.645413, -44.17823], [-2.645387, -44.178202], [-2.64538, -44.178178], [-2.645378, -44.178145], [-2.645384, -44.17808], [-2.64541, -44.177986], [-2.645437, -44.177908], [-2.645384, -44.177901], [-2.6453, -44.177882], [-2.645227, -44.177853], [-2.645135, -44.177804], [-2.645036, -44.177768], [-2.644993, -44.177758], [-2.64495, -44.177744], [-2.644922, -44.177731], [-2.644839, -44.177689], [-2.644699, -44.177632], [-2.644477, -44.177543], [-2.644337, -44.177506], [-2.644204, -44.177442], [-2.644061, -44.177375], [-2.643931, -44.177325], [-2.64366, -44.177216], [-2.64333, -44.177084], [-2.642987, -44.176955], [-2.642774, -44.17687], [-2.642589, -44.176797], [-2.64245, -44.176741], [-2.642282, -44.176684], [-2.642072, -44.176612], [-2.641905, -44.176535], [-2.641786, -44.176485], [-2.641632, -44.176435], [-2.641487, -44.176402], [-2.641388, -44.176367], [-2.641283, -44.17632], [-2.641205, -44.176282], [-2.641081, -44.176224], [-2.641001, -44.17619], [-2.640907, -44.176154], [-2.640791, -44.176103], [-2.640701, -44.176067], [-2.640387, -44.175943], [-2.640228, -44.175879], [-2.640071, -44.175803], [-2.639979, -44.175759], [-2.639918, -44.175804], [-2.639725, -44.17596], [-2.63947, -44.176165], [-2.639239, -44.17635], [-2.63902, -44.176528], [-2.638731, -44.176764], [-2.638267, -44.177163], [-2.638019, -44.177368], [-2.636919, -44.178316], [-2.636824, -44.178375], [-2.63675, -44.178416], [-2.636536, -44.178585], [-2.636322, -44.178764], [-2.636208, -44.17886], [-2.63607, -44.178975], [-2.635729, -44.179277], [-2.635303, -44.179622], [-2.634804, -44.180028], [-2.634529, -44.180247], [-2.634252, -44.180465], [-2.634024, -44.180643], [-2.633818, -44.180804], [-2.633645, -44.18095], [-2.633369, -44.181183], [-2.633205, -44.181328], [-2.63311, -44.181431], [-2.633038, -44.181531], [-2.632959, -44.181659], [-2.632922, -44.181717], [-2.632888, -44.181788], [-2.632793, -44.182005], [-2.632693, -44.182255], [-2.632643, -44.182368], [-2.63259, -44.182484], [-2.632507, -44.182662], [-2.632394, -44.182846], [-2.632298, -44.182968], [-2.632278, -44.182988], [-2.632258, -44.18299], [-2.632236, -44.182987], [-2.632224, -44.182969], [-2.632206, -44.182841], [-2.63219, -44.182737], [-2.632165, -44.182626], [-2.632131, -44.182476], [-2.632084, -44.182332], [-2.632042, -44.182223], [-2.632009, -44.182151], [-2.631974, -44.182078], [-2.631931, -44.182002], [-2.631892, -44.181937], [-2.631854, -44.181876], [-2.631775, -44.181762], [-2.63166, -44.181615], [-2.631579, -44.181511], [-2.631465, -44.181392], [-2.631371, -44.1813], [-2.631311, -44.181249], [-2.631212, -44.181178], [-2.631113, -44.181111], [-2.631041, -44.181068], [-2.630943, -44.181018], [-2.630836, -44.180962], [-2.630726, -44.1809], [-2.630664, -44.180865], [-2.630577, -44.180813], [-2.630501, -44.180763], [-2.630454, -44.18073], [-2.630397, -44.180685], [-2.630331, -44.180625], [-2.630261, -44.180558], [-2.630165, -44.180459], [-2.630083, -44.18037], [-2.630033, -44.180312], [-2.629919, -44.180193], [-2.62981, -44.180077], [-2.62972, -44.180009], [-2.629674, -44.179978], [-2.629612, -44.179943], [-2.629542, -44.179904], [-2.629484, -44.179875], [-2.629398, -44.179836], [-2.629269, -44.179789], [-2.629148, -44.179746], [-2.629063, -44.179722], [-2.628994, -44.179703], [-2.62893, -44.179689], [-2.628879, -44.179676], [-2.628807, -44.179659], [-2.628771, -44.179651], [-2.628744, -44.179648], [-2.628643, -44.179647], [-2.628501, -44.179648], [-2.628312, -44.179658], [-2.628155, -44.179668], [-2.628009, -44.179677], [-2.627785, -44.179695], [-2.627588, -44.179693], [-2.627431, -44.179685], [-2.627306, -44.17967], [-2.627176, -44.179644], [-2.62696, -44.179595], [-2.626726, -44.179541], [-2.626483, -44.179465], [-2.626299, -44.179361], [-2.626062, -44.179168], [-2.625685, -44.178839], [-2.625633, -44.178856], [-2.625552, -44.178882], [-2.625385, -44.178771], [-2.625323, -44.178655], [-2.625237, -44.178599], [-2.625112, -44.178471], [-2.62489, -44.178492], [-2.624412, -44.17876], [-2.624369, -44.178716], [-2.624189, -44.178384], [-2.62414, -44.178278], [-2.624113, -44.178226], [-2.624093, -44.178206], [-2.624063, -44.178195], [-2.624032, -44.178194], [-2.623941, -44.178187], [-2.623843, -44.178181], [-2.623729, -44.178162], [-2.623626, -44.178122], [-2.623563, -44.178078], [-2.623516, -44.178038], [-2.623428, -44.177899], [-2.623411, -44.177845], [-2.623403, -44.177793], [-2.623378, -44.177596], [-2.623378, -44.177551], [-2.623361, -44.17743], [-2.623344, -44.177295], [-2.623343, -44.177203], [-2.623343, -44.177158], [-2.623335, -44.177022], [-2.623306, -44.176882], [-2.623267, -44.176777], [-2.623235, -44.176721], [-2.623073, -44.176459], [-2.623038, -44.176409], [-2.622942, -44.176266], [-2.622881, -44.176174], [-2.622709, -44.175914], [-2.622665, -44.175822], [-2.622615, -44.175691], [-2.622582, -44.175589], [-2.622483, -44.175055], [-2.622374, -44.17465], [-2.622266, -44.174182], [-2.622088, -44.173729], [-2.622008, -44.173517], [-2.621888, -44.173305], [-2.621825, -44.173237], [-2.621681, -44.173149], [-2.62162, -44.173088], [-2.621409, -44.172854], [-2.621397, -44.17283], [-2.621372, -44.172761], [-2.621209, -44.172342], [-2.62112, -44.172038], [-2.621088, -44.171935], [-2.621073, -44.171857], [-2.621075, -44.171797], [-2.621042, -44.171387], [-2.620971, -44.17064], [-2.620951, -44.170433], [-2.620906, -44.16995], [-2.620886, -44.169847], [-2.620604, -44.169008], [-2.620331, -44.168385], [-2.620277, -44.168305], [-2.619622, -44.167551], [-2.619531, -44.167479], [-2.618709, -44.166778], [-2.618629, -44.166637], [-2.618552, -44.166325], [-2.61855, -44.166234], [-2.61853, -44.165946], [-2.618452, -44.165391], [-2.618425, -44.165061], [-2.618403, -44.164902], [-2.618387, -44.164793], [-2.618367, -44.164695], [-2.618307, -44.164433], [-2.618261, -44.16425], [-2.618194, -44.163864], [-2.61817, -44.163629], [-2.618152, -44.163562], [-2.618107, -44.163511], [-2.618049, -44.163463], [-2.617955, -44.163444], [-2.617756, -44.163428], [-2.617225, -44.16338], [-2.617151, -44.163372], [-2.617117, -44.16336], [-2.617091, -44.163333], [-2.617052, -44.163305], [-2.617005, -44.163297], [-2.616958, -44.163312], [-2.616756, -44.163334], [-2.616525, -44.163367], [-2.616265, -44.163412], [-2.616179, -44.163441], [-2.616106, -44.163466], [-2.616054, -44.163473], [-2.616002, -44.163468], [-2.615875, -44.16345], [-2.615676, -44.163433], [-2.615455, -44.16335], [-2.614789, -44.163313], [-2.614221, -44.163255], [-2.614052, -44.163254], [-2.613721, -44.163252], [-2.613536, -44.163237], [-2.613444, -44.163232], [-2.613393, -44.163235], [-2.613343, -44.163243], [-2.613294, -44.16326], [-2.613225, -44.163276], [-2.61312, -44.163294], [-2.612885, -44.163351], [-2.612838, -44.163367], [-2.612783, -44.163392], [-2.612631, -44.163454], [-2.61249, -44.163513], [-2.612388, -44.163545], [-2.612206, -44.163577], [-2.611992, -44.163621], [-2.611875, -44.163645], [-2.611762, -44.163669], [-2.611677, -44.163669], [-2.611638, -44.163662], [-2.61155, -44.163639], [-2.611437, -44.163592], [-2.611388, -44.163572], [-2.611335, -44.163546], [-2.611283, -44.16352], [-2.611133, -44.163444], [-2.610986, -44.163376], [-2.610394, -44.163134], [-2.610139, -44.163005], [-2.610044, -44.162954], [-2.609963, -44.162911], [-2.609721, -44.162782], [-2.609534, -44.162677], [-2.609451, -44.162642], [-2.609337, -44.162572], [-2.609239, -44.162511], [-2.609127, -44.162444], [-2.609032, -44.1624], [-2.608987, -44.162372], [-2.608947, -44.162321], [-2.608894, -44.162244], [-2.608856, -44.162192], [-2.608804, -44.16213], [-2.608747, -44.162072], [-2.608697, -44.162027], [-2.608599, -44.161946], [-2.608517, -44.16188], [-2.608459, -44.161838], [-2.608424, -44.161815], [-2.608392, -44.161801], [-2.608339, -44.161787], [-2.608258, -44.161766], [-2.608057, -44.161697], [-2.607997, -44.161691], [-2.607914, -44.161688], [-2.607864, -44.161686], [-2.607833, -44.161688], [-2.607805, -44.161697], [-2.607754, -44.161726], [-2.607705, -44.161761], [-2.607584, -44.16185], [-2.607475, -44.161931], [-2.607281, -44.162074], [-2.607188, -44.162143], [-2.607115, -44.162197], [-2.607045, -44.162238], [-2.606947, -44.162286], [-2.606903, -44.162301], [-2.606849, -44.162312], [-2.606723, -44.162328], [-2.606671, -44.162333], [-2.606621, -44.16234], [-2.606463, -44.162377], [-2.606253, -44.162428], [-2.606044, -44.162481], [-2.605934, -44.162508], [-2.60578, -44.162559], [-2.605637, -44.162627], [-2.605458, -44.162725], [-2.605329, -44.162802], [-2.605258, -44.162832], [-2.605116, -44.162888], [-2.605043, -44.162917], [-2.604975, -44.162939], [-2.60491, -44.162955], [-2.604823, -44.162974], [-2.604701, -44.163006], [-2.604595, -44.163037], [-2.604457, -44.16308], [-2.604273, -44.163135], [-2.60415, -44.163178], [-2.604114, -44.163189], [-2.604052, -44.163206], [-2.604026, -44.163216], [-2.603961, -44.163249], [-2.603783, -44.163349], [-2.603629, -44.163417], [-2.603543, -44.163449], [-2.60342, -44.163496], [-2.603058, -44.163598], [-2.602873, -44.163654], [-2.602788, -44.163679], [-2.602697, -44.163708], [-2.602587, -44.163737], [-2.602422, -44.163782], [-2.602296, -44.163814], [-2.602164, -44.163842], [-2.602097, -44.163859], [-2.601984, -44.163894], [-2.601853, -44.163936], [-2.60166, -44.164004], [-2.601569, -44.164038], [-2.601546, -44.164049], [-2.601507, -44.164072], [-2.601386, -44.164158], [-2.601247, -44.164256], [-2.601086, -44.164371], [-2.600916, -44.164515], [-2.600771, -44.164657], [-2.600678, -44.164755], [-2.600588, -44.164856], [-2.600506, -44.164974], [-2.600463, -44.165051], [-2.600409, -44.165144], [-2.600316, -44.165314], [-2.600258, -44.165444], [-2.600116, -44.165746], [-2.599975, -44.166048], [-2.599837, -44.166344], [-2.599763, -44.16648], [-2.599672, -44.166648], [-2.599597, -44.166782], [-2.599572, -44.16682], [-2.599525, -44.166889], [-2.599506, -44.166917], [-2.599477, -44.166953], [-2.599465, -44.166964], [-2.599359, -44.167051], [-2.599156, -44.167197], [-2.599094, -44.167227], [-2.598971, -44.167282], [-2.598785, -44.167375], [-2.598702, -44.167421], [-2.598615, -44.167479], [-2.598547, -44.167529], [-2.598474, -44.167595], [-2.598421, -44.167637], [-2.598283, -44.167739], [-2.59819, -44.167804], [-2.59808, -44.167861], [-2.597986, -44.167892], [-2.597864, -44.167929], [-2.597768, -44.167959], [-2.597555, -44.168026], [-2.597475, -44.168062], [-2.59742, -44.168086], [-2.597281, -44.168145], [-2.597179, -44.168189], [-2.596994, -44.168285], [-2.596852, -44.168372], [-2.596623, -44.168514], [-2.596341, -44.168677], [-2.596221, -44.168744], [-2.596153, -44.168788], [-2.595923, -44.168952], [-2.595407, -44.169276], [-2.595053, -44.169492], [-2.59453, -44.169839], [-2.594033, -44.17019], [-2.593756, -44.170383], [-2.593552, -44.17052], [-2.593334, -44.170657], [-2.593074, -44.170822], [-2.592271, -44.171345], [-2.591998, -44.171524], [-2.591907, -44.17157], [-2.591787, -44.171642], [-2.591697, -44.171724], [-2.591552, -44.171871], [-2.59139, -44.172041], [-2.591219, -44.172206], [-2.591107, -44.172312], [-2.590954, -44.172463], [-2.590792, -44.172624], [-2.590743, -44.172677], [-2.590721, -44.172708], [-2.590581, -44.17292], [-2.590474, -44.173079], [-2.590384, -44.173242], [-2.590268, -44.173461], [-2.590235, -44.173531], [-2.590206, -44.173612], [-2.590177, -44.173694], [-2.590118, -44.173843], [-2.590068, -44.173977], [-2.589966, -44.174215], [-2.589911, -44.174319], [-2.589842, -44.174434], [-2.589769, -44.174552], [-2.589645, -44.17479], [-2.589581, -44.174912], [-2.589521, -44.175061], [-2.589442, -44.175243], [-2.589265, -44.175712], [-2.589086, -44.176155], [-2.588945, -44.176487], [-2.588731, -44.176998], [-2.588668, -44.177174], [-2.588642, -44.177265], [-2.588627, -44.1773], [-2.588603, -44.177326], [-2.588527, -44.177374], [-2.588239, -44.177523], [-2.588093, -44.177605], [-2.58795, -44.177685], [-2.58747, -44.177977], [-2.587253, -44.178113], [-2.587007, -44.178254], [-2.586857, -44.178354], [-2.586684, -44.178465], [-2.586433, -44.178614], [-2.586183, -44.178763], [-2.586004, -44.178879], [-2.585849, -44.178987], [-2.585709, -44.179096], [-2.585599, -44.179177], [-2.58535, -44.179376], [-2.585164, -44.179524], [-2.585047, -44.179616], [-2.584931, -44.179708], [-2.584841, -44.1798], [-2.584788, -44.17986], [-2.58473, -44.179935], [-2.584673, -44.180028], [-2.584602, -44.180144], [-2.584538, -44.180274], [-2.584444, -44.180427], [-2.584268, -44.180675], [-2.584003, -44.180998], [-2.583903, -44.181095], [-2.583854, -44.181141], [-2.58376, -44.181236], [-2.583678, -44.181343], [-2.583495, -44.181613], [-2.583233, -44.181961], [-2.583071, -44.182195], [-2.582894, -44.182453], [-2.582787, -44.182587], [-2.582645, -44.182759], [-2.58247, -44.182953], [-2.582302, -44.183121], [-2.58198, -44.183416], [-2.581833, -44.183556], [-2.581578, -44.183792], [-2.581485, -44.183878], [-2.581344, -44.184007], [-2.581251, -44.184075], [-2.581189, -44.184121], [-2.581135, -44.184155], [-2.581089, -44.184176], [-2.58103, -44.184204], [-2.580964, -44.184223], [-2.580875, -44.184248], [-2.580805, -44.184262], [-2.580652, -44.184284], [-2.580451, -44.184321], [-2.580264, -44.18436], [-2.580044, -44.184398], [-2.579713, -44.184466], [-2.579282, -44.184555], [-2.579022, -44.184602], [-2.578501, -44.184703], [-2.577907, -44.184818], [-2.577014, -44.185], [-2.576756, -44.185054], [-2.576672, -44.18508]];

const map = L.map('map', { zoomControl:true }).setView(SJ_RIBAMAR_CENTER, 12);

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution:'&copy; OpenStreetMap'
}).addTo(map);


// Desenha o contorno do munic√≠pio (overlay)
const municipioLayer = L.polygon(MUNICIPIO_SJR_POLYGON, {
  color: '#ff2d2d',
  weight: 3,
  opacity: 0.95,
  fill: false,
  dashArray: '2 8',
  lineCap: 'round'
}).addTo(map);
municipioLayer.bringToBack();
const markersByItem = new Map();

function buildPopupHtml(d){
  const serv = d.servico || '‚Äî';
  const reg  = d.regiao || '‚Äî';
  const bai  = d.bairro || '‚Äî';
  const log  = d.logradouro || '‚Äî';
  const end  = d.endereco_consulta || '‚Äî';

  const latTxt = (typeof d.lat === 'number') ? d.lat.toFixed(6) : '‚Äî';
  const lngTxt = (typeof d.lng === 'number') ? d.lng.toFixed(6) : '‚Äî';

  const mapsUrl = d.maps_url || ('https://www.google.com/maps/search/?api=1&query=' + encodeURIComponent(end));

  return `
    <div style="font-size:12px; line-height:1.4;">
      <div style="font-size:13px;font-weight:800;margin-bottom:4px;">
        #${d.item} ‚Äî ${log}
      </div>

      <div><strong>Bairro:</strong> ${bai}</div>
      <div><strong>Regi√£o:</strong> ${reg}</div>
      <div><strong>Servi√ßo:</strong> ${serv}</div>

      <div style="margin-top:6px;">
        <strong>Endere√ßo base:</strong><br/>
        <span style="color:#cbd5e1">${end}</span>
      </div>

      <div style="margin-top:6px;font-size:11px;color:#9ca3af">
        Coordenadas: ${latTxt}, ${lngTxt}
      </div>

      <div style="margin-top:8px;display:flex;gap:8px;flex-wrap:wrap;">
        <a href="${mapsUrl}" target="_blank" rel="noopener"
           style="font-size:11px;text-decoration:none;border:1px solid #1e293b;border-radius:999px;padding:4px 8px;color:#e5e7eb;background:#020617;">
          üîé Abrir no Google Maps
        </a>
        <button data-copy="${end}"
           style="font-size:11px;border:1px solid #1e293b;border-radius:999px;padding:4px 8px;color:#e5e7eb;background:#020617;cursor:pointer;">
          üìã Copiar endere√ßo
        </button>
      </div>
    </div>
  `;
}

function clearAllMarkers() {
  markersByItem.forEach(m => map.removeLayer(m));
  markersByItem.clear();
}

function addMarkers(){
  clearAllMarkers();

  let sumLat=0, sumLng=0, count=0;

  DEMANDAS.forEach(d=>{
    if (typeof d.lat === 'number' && typeof d.lng === 'number') {
      const { color, emoji } = getMarkerStyle(d.servico);

      const iconHtml = `
        <div class="demanda-marker-wrapper" style="background:${color};">
          <span>${emoji}</span>
        </div>
      `;

      const icon = L.divIcon({
        className:'',
        html:iconHtml,
        iconSize:[26,26],
        iconAnchor:[13,13]
      });

      const marker = L.marker([d.lat, d.lng], { icon }).addTo(map);
      marker.bindPopup(buildPopupHtml(d));

      marker.on("popupopen", (ev) => {
        const el = ev.popup.getElement();
        const btn = el?.querySelector("button[data-copy]");
        if (btn) {
          btn.addEventListener("click", async () => {
            const text = btn.getAttribute("data-copy") || "";
            try {
              await navigator.clipboard.writeText(text);
              btn.textContent = "‚úÖ Copiado!";
              setTimeout(()=> btn.textContent = "üìã Copiar endere√ßo", 1200);
            } catch {
              alert("N√£o consegui copiar automaticamente. Copie manualmente:\n\n" + text);
            }
          }, { once:true });
        }
      });

      markersByItem.set(d.item, marker);

      sumLat += d.lat;
      sumLng += d.lng;
      count++;
    }
  });

  if(count > 0) map.setView([sumLat/count, sumLng/count], 12);
  else map.setView(SJ_RIBAMAR_CENTER, 12);
}

/* =========================
   7) KPIs
   ========================= */
function updateKpis(){
  const total = DEMANDAS.length;
  const geo   = DEMANDAS.filter(d=> typeof d.lat === 'number' && typeof d.lng === 'number').length;
  const regioes = new Set(DEMANDAS.map(d=>d.regiao).filter(Boolean));
  const bairros = new Set(DEMANDAS.map(d=>d.bairro).filter(Boolean));

  document.getElementById('kpiTotal').textContent   = total;
  document.getElementById('kpiGeo').textContent     = geo;
  document.getElementById('kpiRegioes').textContent = regioes.size;
  document.getElementById('kpiBairros').textContent = bairros.size;

  const pill = document.getElementById('pillResumo');
  pill.textContent = `${geo} de ${total} demandas com coordenadas`;
}

/* =========================
   8) LISTA + FILTROS
   ========================= */
const tbody = document.getElementById('tbodyDemandas');
const filterRegiao = document.getElementById('filterRegiao');
const filterBairro = document.getElementById('filterBairro');
const filterLogradouro = document.getElementById('filterLogradouro');
const pillSel = document.getElementById('pillSel');

let currentHighlightedRow = null;
let selectedItem = null;

(function fillRegioes(){
  const regSet = new Set();
  DEMANDAS.forEach(d=>{ if(d.regiao) regSet.add(d.regiao); });
  Array.from(regSet).sort().forEach(r=>{
    const opt = document.createElement('option');
    opt.value = r;
    opt.textContent = r;
    filterRegiao.appendChild(opt);
  });
})();

function applyFilters(){
  const regValue  = filterRegiao.value.trim().toLowerCase();
  const baiValue  = filterBairro.value.trim().toLowerCase();
  const logValue  = filterLogradouro.value.trim().toLowerCase();

  const filtered = DEMANDAS.filter(d=>{
    const regOk = !regValue || (d.regiao || '').toLowerCase() === regValue;
    const baiOk = !baiValue || (d.bairro || '').toLowerCase().includes(baiValue);
    const logOk = !logValue || (d.logradouro || '').toLowerCase().includes(logValue);
    return regOk && baiOk && logOk;
  });

  renderTable(filtered);
}

function renderTable(list){
  tbody.innerHTML = '';

  list.forEach(d=>{
    const tr = document.createElement('tr');
    tr.dataset.item = d.item;

    const hasGeo = typeof d.lat === 'number' && typeof d.lng === 'number';
    const { emoji } = getMarkerStyle(d.servico);

    tr.innerHTML = `
      <td>#${d.item}</td>
      <td>
        <div style="display:flex;flex-direction:column;gap:2px;">
          <span>${d.bairro || '‚Äî'}</span>
          <span class="badge-regiao">${d.regiao || '‚Äî'}</span>
        </div>
      </td>
      <td>
        <div style="display:flex;flex-direction:column;gap:2px;">
          <span>${d.logradouro || '‚Äî'}</span>
          <span style="font-size:11px;color:#94a3b8">${d.endereco_consulta || ''}</span>
        </div>
      </td>
      <td>
        <span class="tag-servico">
          <span class="emoji">${emoji}</span>
          <span>${d.servico || '‚Äî'}</span>
        </span>
      </td>
      <td>${hasGeo ? '‚úÖ' : '‚Äî'}</td>
    `;

    tr.addEventListener('click', ()=>{
      if(currentHighlightedRow) currentHighlightedRow.classList.remove('is-highlighted');
      tr.classList.add('is-highlighted');
      currentHighlightedRow = tr;

      selectedItem = d.item;
      pillSel.textContent = `Selecionada: #${d.item} ‚Äî ${d.logradouro || '‚Äî'}`;

      if(hasGeo && markersByItem.has(d.item)){
        const m = markersByItem.get(d.item);
        map.setView(m.getLatLng(), 16, { animate:true });
        m.openPopup();
      }
    });

    tbody.appendChild(tr);
  });

  document.getElementById('pillResumo').textContent = `${list.length} demandas listadas (filtro)`;
}

filterRegiao.addEventListener('change', applyFilters);
filterBairro.addEventListener('input', applyFilters);
filterLogradouro.addEventListener('input', applyFilters);

/* =========================
   9) MODO MANUAL (clicar no mapa e salvar coords)
   ========================= */
let isMarkMode = false;

const btnModoMarcar = document.getElementById("btnModoMarcar");
const btnRemoverCoord = document.getElementById("btnRemoverCoord");
const btnExportar = document.getElementById("btnExportar");

function setMarkMode(on){
  isMarkMode = on;
  btnModoMarcar.textContent = on ? "‚úÖ Clique no mapa..." : "üìå Definir coordenada";
}

btnModoMarcar.addEventListener("click", ()=>{
  if(!selectedItem){
    alert("Selecione uma demanda na tabela primeiro.");
    return;
  }
  setMarkMode(!isMarkMode);
});

btnRemoverCoord.addEventListener("click", ()=>{
  if(!selectedItem){
    alert("Selecione uma demanda na tabela primeiro.");
    return;
  }
  delete COORDS_STORAGE[selectedItem];
  saveStoredCoords(COORDS_STORAGE);

  const d = DEMANDAS.find(x=>x.item===selectedItem);
  if(d){ d.lat = null; d.lng = null; }

  addMarkers();
// Enquadra o mapa no contorno (se existir)
try { map.fitBounds(municipioLayer.getBounds(), { padding: [20, 20] }); } catch(e) {}
  updateKpis();
  applyFilters();
  alert(`Coordenada removida da demanda #${selectedItem}.`);
});

map.on("click", (e)=>{
  if(!isMarkMode) return;
  if(!selectedItem){
    setMarkMode(false);
    return;
  }

  const lat = +e.latlng.lat.toFixed(7);
  const lng = +e.latlng.lng.toFixed(7);

  COORDS_STORAGE[selectedItem] = { lat, lng };
  saveStoredCoords(COORDS_STORAGE);

  const d = DEMANDAS.find(x=>x.item===selectedItem);
  if(d){ d.lat = lat; d.lng = lng; }

  setMarkMode(false);
  addMarkers();
  updateKpis();
  applyFilters();

  alert(`Salvo: #${selectedItem} = ${lat}, ${lng}`);
});

function downloadText(filename, text){
  const blob = new Blob([text], { type:"text/plain;charset=utf-8" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = filename;
  document.body.appendChild(a);
  a.click();
  a.remove();
  URL.revokeObjectURL(url);
}

btnExportar.addEventListener("click", ()=>{
  const keys = Object.keys(COORDS_STORAGE)
    .map(k => parseInt(k,10))
    .filter(n => Number.isFinite(n))
    .sort((a,b)=>a-b);

  const lines = [];
  lines.push("/* coords-manual.js (gerado pelo ObraTrack) */");
  lines.push("const COORDS_MANUAIS_FIXAS = {");
  keys.forEach(k=>{
    const v = COORDS_STORAGE[k];
    lines.push(`  ${k}: { lat: ${v.lat}, lng: ${v.lng} },`);
  });
  lines.push("};");

  downloadText("coords-manual.js", lines.join("\n"));
  alert("Exportado: coords-manual.js\nCole o conte√∫do em COORDS_MANUAIS_FIXAS no seu JS para fixar.");
});

/* =========================
   10) BOOT
   ========================= */
addMarkers();
updateKpis();
applyFilters();

// Enquadra o mapa no contorno do munic√≠pio (se existir)
try { map.fitBounds(municipioLayer.getBounds(), { padding: [20, 20] }); } catch(e) {}


/* =========================
   7) UI + LISTA + INTERA√á√ÉO
   ========================= */
(function bootObraTrackMapaV4(){
  // ====== DOM
  const el = {
    kpiTotal: document.getElementById("kpiTotal"),
    kpiGeo: document.getElementById("kpiGeo"),
    kpiRegioes: document.getElementById("kpiRegioes"),
    kpiBairros: document.getElementById("kpiBairros"),
    pillResumo: document.getElementById("pillResumo"),
    pillSel: document.getElementById("pillSel"),
    tbody: document.getElementById("tbodyDemandas"),
    filterRegiao: document.getElementById("filterRegiao"),
    filterBairro: document.getElementById("filterBairro"),
    filterLogradouro: document.getElementById("filterLogradouro"),
    btnModoMarcar: document.getElementById("btnModoMarcar"),
    btnRemoverCoord: document.getElementById("btnRemoverCoord"),
    btnExportar: document.getElementById("btnExportar"),
  };

  if (!el.tbody || !document.getElementById("map")) {
    console.warn("[ObraTrack] Elementos do DOM n√£o encontrados.");
    return;
  }

  // ====== helpers
  const isNum = (v) => typeof v === "number" && Number.isFinite(v);
  const hasGeo = (d) => isNum(d.lat) && isNum(d.lng);

  function norm(s){
    return (s || "")
      .toString()
      .toLowerCase()
      .normalize("NFD")
      .replace(/[\u0300-\u036f]/g, "")
      .trim();
  }

  function unique(arr){
    return Array.from(new Set(arr.filter(Boolean)));
  }

  // ====== Estado
  let selectedItem = null;
  let markingMode = false;

  // ====== MAPA
  const map = L.map("map", { zoomControl: true });
  map.setView(SJ_RIBAMAR_CENTER, 12);

  L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
    maxZoom: 19,
    attribution: "&copy; OpenStreetMap",
  }).addTo(map);

  // contorno opcional
  if (typeof MUNICIPIO_SJR_POLYGON !== "undefined" && Array.isArray(MUNICIPIO_SJR_POLYGON)) {
    try{
      const poly = L.polygon(MUNICIPIO_SJR_POLYGON, {
        weight: 2,
        fillOpacity: 0.06,
      }).addTo(map);
      // s√≥ ajusta 1x na primeira carga se n√£o tiver nenhum marker
      const anyGeo = DEMANDAS.some(hasGeo);
      if (!anyGeo) map.fitBounds(poly.getBounds().pad(0.1));
    }catch(e){
      console.warn("[ObraTrack] Falha ao desenhar pol√≠gono:", e);
    }
  }

  const markersLayer = L.layerGroup().addTo(map);
  const markersByItem = new Map();

  function makeMarkerIcon(d){
    const { color, emoji } = getMarkerStyle(d.servico);
    return L.divIcon({
      className: "",
      html: `
        <div class="demanda-marker-wrapper" style="background:${color};">
          <div style="transform:translateY(-0.5px)">${emoji}</div>
        </div>
      `,
      iconSize: [26, 26],
      iconAnchor: [13, 13],
      popupAnchor: [0, -10],
    });
  }

  function popupHtml(d){
    const serv = d.servico || "‚Äî";
    const log = d.logradouro || "‚Äî";
    const bai = d.bairro || "‚Äî";
    const reg = d.regiao || "‚Äî";
    const ext = (d.extensao_total_m ?? "‚Äî");
    const area = (d.area_m2 ?? "‚Äî");
    const obs = d.observacao || "";

    return `
      <div style="min-width:240px">
        <div style="font-weight:800; margin-bottom:4px;">#${d.item} ‚Äî ${log}</div>
        <div style="font-size:12px; opacity:.85">${reg} ‚Ä¢ ${bai}</div>
        <div style="margin:8px 0; font-size:12px;">
          <div><b>Servi√ßo:</b> ${serv}</div>
          <div><b>Extens√£o:</b> ${ext} m</div>
          <div><b>√Årea:</b> ${area} m¬≤</div>
          ${obs ? `<div style="margin-top:6px;"><b>Obs:</b> ${obs}</div>` : ``}
        </div>
        <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:8px;">
          <a href="${d.maps_url}" target="_blank" rel="noopener"
             style="font-size:12px; text-decoration:none; padding:6px 10px; border-radius:999px; border:1px solid #1e293b;">
             Abrir no Google Maps
          </a>
          <button data-copy="${String(d.item)}"
             style="font-size:12px; padding:6px 10px; border-radius:999px; border:1px solid #1e293b; background:#020617; color:#e5e7eb; cursor:pointer;">
             Copiar endere√ßo
          </button>
        </div>
      </div>
    `;
  }

  function rebuildMarkers(list){
    markersLayer.clearLayers();
    markersByItem.clear();

    for (const d of list) {
      if (!hasGeo(d)) continue;

      const m = L.marker([d.lat, d.lng], { icon: makeMarkerIcon(d) });
      m.bindPopup(popupHtml(d));
      m.on("click", () => selectItem(d.item, { fly: false, openPopup: true }));
      m.addTo(markersLayer);
      markersByItem.set(d.item, m);
    }
  }

  // ====== FILTROS
  function buildRegiaoOptions(){
    const regs = unique(DEMANDAS.map(d => d.regiao));
    regs.sort((a,b)=> String(a).localeCompare(String(b), "pt-BR"));
    // preserva o "Todas"
    el.filterRegiao.innerHTML = `<option value="">Todas</option>` + regs
      .map(r => `<option value="${String(r)}">${String(r)}</option>`)
      .join("");
  }

  function getFiltered(){
    const reg = el.filterRegiao.value;
    const bairro = norm(el.filterBairro.value);
    const logr = norm(el.filterLogradouro.value);

    return DEMANDAS.filter(d => {
      if (reg && String(d.regiao) !== String(reg)) return false;
      if (bairro && !norm(d.bairro).includes(bairro)) return false;
      if (logr && !norm(d.logradouro).includes(logr)) return false;
      return true;
    });
  }

  // ====== KPIs
  function updateKpis(filtered){
    const total = DEMANDAS.length;
    const geo = DEMANDAS.filter(hasGeo).length;
    const regioes = unique(DEMANDAS.map(d => d.regiao)).length;
    const bairros = unique(DEMANDAS.map(d => d.bairro)).length;

    el.kpiTotal.textContent = String(total);
    el.kpiGeo.textContent = String(geo);
    el.kpiRegioes.textContent = String(regioes);
    el.kpiBairros.textContent = String(bairros);

    const shown = filtered.length;
    const shownGeo = filtered.filter(hasGeo).length;
    el.pillResumo.textContent = `Mostrando ${shown}/${total} ‚Ä¢ Geo ${shownGeo}/${geo}`;
  }

  // ====== TABELA
  function rowHtml(d){
    const serv = d.servico || "‚Äî";
    const geo = hasGeo(d) ? "‚úÖ" : "‚Äî";
    return `
      <tr data-item="${d.item}">
        <td>${d.item}</td>
        <td>
          <span class="badge-regiao">${d.regiao || "‚Äî"}</span>
          <div style="margin-top:4px; color:var(--muted); font-size:11px;">${d.bairro || "‚Äî"}</div>
        </td>
        <td>${d.logradouro || "‚Äî"}</td>
        <td><span class="tag-servico">üõ†Ô∏è ${serv}</span></td>
        <td style="font-weight:800;">${geo}</td>
      </tr>
    `;
  }

  function renderTable(list){
    el.tbody.innerHTML = list.map(rowHtml).join("");

    // clique na linha = selecionar
    el.tbody.querySelectorAll("tr").forEach(tr => {
      tr.addEventListener("click", () => {
        const item = Number(tr.getAttribute("data-item"));
        selectItem(item, { fly: true, openPopup: true });
      });
    });

    // destaque
    highlightSelectedRow();
  }

  function highlightSelectedRow(){
    el.tbody.querySelectorAll("tr").forEach(tr => {
      const item = Number(tr.getAttribute("data-item"));
      tr.classList.toggle("is-highlighted", selectedItem === item);
    });
  }

  // ====== SELE√á√ÉO
  function selectItem(item, opts = { fly:true, openPopup:true }){
    selectedItem = item;

    const d = DEMANDAS.find(x => x.item === item);
    if (!d) {
      el.pillSel.textContent = "Nenhuma selecionada";
      highlightSelectedRow();
      return;
    }

    el.pillSel.textContent = `Selecionada #${d.item} ‚Äî ${d.logradouro || d.bairro || "‚Äî"}`;
    highlightSelectedRow();

    const m = markersByItem.get(d.item);
    if (m && hasGeo(d)) {
      if (opts.fly) map.flyTo([d.lat, d.lng], Math.max(map.getZoom(), 15), { duration: 0.7 });
      if (opts.openPopup) m.openPopup();
      // bot√£o copiar endere√ßo dentro do popup
      setTimeout(() => {
        const btn = document.querySelector(`button[data-copy="${d.item}"]`);
        if (btn) {
          btn.onclick = async () => {
            try {
              await navigator.clipboard.writeText(d.endereco_consulta || "");
              el.pillSel.textContent = `‚úÖ Endere√ßo copiado (#${d.item})`;
              setTimeout(() => el.pillSel.textContent = `Selecionada #${d.item} ‚Äî ${d.logradouro || d.bairro || "‚Äî"}`, 1200);
            } catch {
              alert(d.endereco_consulta || "");
            }
          };
        }
      }, 200);
    }
  }

  // ====== MODO MARCAR COORDENADA (clique no mapa)
  function setMarkingMode(on){
    markingMode = !!on;
    el.btnModoMarcar.textContent = markingMode ? "‚úÖ Clique no mapa‚Ä¶" : "üìå Definir coordenada";
    el.btnModoMarcar.style.borderColor = markingMode ? "#38bdf8" : "var(--border)";
  }

  el.btnModoMarcar.addEventListener("click", () => {
    if (selectedItem == null) {
      alert("Selecione uma demanda na lista primeiro.");
      return;
    }
    setMarkingMode(!markingMode);
  });

  map.on("click", (ev) => {
    if (!markingMode) return;
    if (selectedItem == null) return;

    const d = DEMANDAS.find(x => x.item === selectedItem);
    if (!d) return;

    const lat = Number(ev.latlng.lat.toFixed(6));
    const lng = Number(ev.latlng.lng.toFixed(6));

    d.lat = lat;
    d.lng = lng;

    COORDS_STORAGE[d.item] = { lat, lng };
    saveStoredCoords(COORDS_STORAGE);

    // re-render (mant√©m filtro atual)
    const filtered = getFiltered();
    rebuildMarkers(filtered);
    renderTable(filtered);
    updateKpis(filtered);

    // foca no ponto
    selectItem(d.item, { fly: true, openPopup: true });

    // sai do modo marcar
    setMarkingMode(false);
  });

  // ESC cancela modo marcar
  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape" && markingMode) setMarkingMode(false);
  });

  // ====== REMOVER COORD
  el.btnRemoverCoord.addEventListener("click", () => {
    if (selectedItem == null) {
      alert("Selecione uma demanda na lista primeiro.");
      return;
    }
    const d = DEMANDAS.find(x => x.item === selectedItem);
    if (!d) return;

    d.lat = null;
    d.lng = null;

    delete COORDS_STORAGE[d.item];
    saveStoredCoords(COORDS_STORAGE);

    const filtered = getFiltered();
    rebuildMarkers(filtered);
    renderTable(filtered);
    updateKpis(filtered);

    el.pillSel.textContent = `üóëÔ∏è Coordenada removida (#${d.item})`;
    setTimeout(() => selectItem(d.item, { fly:false, openPopup:false }), 600);
  });

  // ====== EXPORTAR coords-manual.js
  el.btnExportar.addEventListener("click", async () => {
    // exporta TUDO que est√° no storage (o que voc√™ marcou manualmente)
    const obj = {};
    const keys = Object.keys(COORDS_STORAGE).map(k => Number(k)).filter(n => Number.isFinite(n));
    keys.sort((a,b)=>a-b);

    for (const k of keys) {
      const c = COORDS_STORAGE[k];
      if (c && isNum(c.lat) && isNum(c.lng)) obj[k] = { lat: c.lat, lng: c.lng };
    }

    const content =
`// coords-manual.js (gerado pelo ObraTrack ‚Äî ${new Date().toISOString()})
// Cole o objeto abaixo dentro do seu obratrack-mapa-manual-v4.js em COORDS_MANUAIS_FIXAS.
const COORDS_MANUAIS_FIXAS = ${JSON.stringify(obj, null, 2)};\n`;

    // tenta copiar para √°rea de transfer√™ncia tamb√©m
    try { await navigator.clipboard.writeText(content); } catch {}

    const blob = new Blob([content], { type: "text/javascript;charset=utf-8" });
    const url = URL.createObjectURL(blob);

    const a = document.createElement("a");
    a.href = url;
    a.download = "coords-manual.js";
    document.body.appendChild(a);
    a.click();
    a.remove();

    setTimeout(() => URL.revokeObjectURL(url), 1000);

    el.pillSel.textContent = "‚¨áÔ∏è Exportado: coords-manual.js (e copiado se poss√≠vel)";
    setTimeout(() => el.pillSel.textContent = (selectedItem ? `Selecionada #${selectedItem}` : "Nenhuma selecionada"), 1400);
  });

  // ====== eventos filtros
  el.filterRegiao.addEventListener("change", renderAll);
  el.filterBairro.addEventListener("input", renderAll);
  el.filterLogradouro.addEventListener("input", renderAll);

  // ====== render principal
  function renderAll(){
    const filtered = getFiltered();
    rebuildMarkers(filtered);
    renderTable(filtered);
    updateKpis(filtered);

    // se a demanda selecionada saiu do filtro, limpa sele√ß√£o visual (mas mant√©m estado)
    highlightSelectedRow();
  }

  // ====== init
  buildRegiaoOptions();
  renderAll();

  // se tiver markers, ajusta 1x para mostrar bem
  const initialFiltered = getFiltered();
  const geos = initialFiltered.filter(hasGeo);
  if (geos.length) {
    const fg = L.featureGroup(geos.map(d => markersByItem.get(d.item)).filter(Boolean));
    try { map.fitBounds(fg.getBounds().pad(0.15)); } catch {}
  }

  // dica de status inicial
  el.pillSel.textContent = "Nenhuma selecionada";
})();


/* =========================================================
   7) DASHBOARD + GR√ÅFICOS (Chart.js) ‚Äî baseado em DEMANDAS
   ========================================================= */

const __CHARTS__ = {}; // guarda inst√¢ncias pra destruir e recriar

function __num(v) {
  const n = Number(v);
  return Number.isFinite(n) ? n : 0;
}

function __hasCoord(d) {
  return typeof d.lat === "number" && typeof d.lng === "number";
}

function __setText(id, value) {
  const el = document.getElementById(id);
  if (el) el.textContent = value;
}

function __bucketServico(servico) {
  const s = (servico || "").toLowerCase();

  const hasBloquete = s.includes("bloquete");
  const hasRecape   = s.includes("recape");
  const hasPav      = s.includes("paviment");
  const hasDrenProf = s.includes("drenagem profunda");
  const hasDrenSup  = s.includes("drenagem superficial") || s.includes("drenagem  superficial");

  // categoria ‚Äúprincipal‚Äù
  if (hasBloquete) return "Bloquete";
  if (hasRecape)   return "Recape";
  if (hasPav)      return "Pavimenta√ß√£o";
  if (hasDrenProf) return "Drenagem profunda";
  if (hasDrenSup)  return "Drenagem superficial";
  return "Outros/N√£o informado";
}

function __groupCount(arr, keyFn) {
  const map = new Map();
  for (const it of arr) {
    const k = keyFn(it) ?? "N√£o informado";
    map.set(k, (map.get(k) || 0) + 1);
  }
  // ordena desc
  return [...map.entries()].sort((a, b) => b[1] - a[1]);
}

function __groupSum(arr, keyFn, valueFn) {
  const map = new Map();
  for (const it of arr) {
    const k = keyFn(it) ?? "N√£o informado";
    map.set(k, (map.get(k) || 0) + __num(valueFn(it)));
  }
  // ordena desc
  return [...map.entries()].sort((a, b) => b[1] - a[1]);
}

function __renderChart({ canvasId, type, labels, data, label }) {
  const canvas = document.getElementById(canvasId);
  if (!canvas) {
    console.warn(`[Charts] N√£o achei o canvas #${canvasId}`);
    return;
  }

  // destr√≥i se j√° existe (evita bug de ‚Äún√£o atualiza‚Äù)
  if (__CHARTS__[canvasId]) {
    __CHARTS__[canvasId].destroy();
    __CHARTS__[canvasId] = null;
  }

  const ctx = canvas.getContext("2d");
  __CHARTS__[canvasId] = new Chart(ctx, {
    type,
    data: {
      labels,
      datasets: [{
        label,
        data
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: true }
      },
      scales: (type === "doughnut" || type === "pie") ? {} : {
        y: { beginAtZero: true }
      }
    }
  });
}

function renderDashboardECharts(demandas = DEMANDAS) {
  // seguran√ßa: filtra s√≥ objetos v√°lidos
  const arr = Array.isArray(demandas) ? demandas.filter(Boolean) : [];

  // KPIs
  const total = arr.length;
  const geoOk = arr.filter(__hasCoord).length;
  const geoPend = total - geoOk;

  const areaTotal = arr.reduce((acc, d) => acc + __num(d.area_m2), 0);
  const extTotal  = arr.reduce((acc, d) => acc + __num(d.extensao_total_m), 0);

  __setText("kpiTotal", total);
  __setText("kpiGeoOk", geoOk);
  __setText("kpiGeoPendente", geoPend);
  __setText("kpiAreaTotal", areaTotal.toLocaleString("pt-BR"));
  __setText("kpiExtTotal", extTotal.toLocaleString("pt-BR"));

  // Gr√°fico 1: demandas por regi√£o
  const reg = __groupCount(arr, d => d.regiao || "N√£o informado");
  __renderChart({
    canvasId: "chartRegiao",
    type: "bar",
    labels: reg.map(([k]) => k),
    data: reg.map(([,v]) => v),
    label: "Demandas por regi√£o"
  });

  // Gr√°fico 2: demandas por tipo de servi√ßo
  const serv = __groupCount(arr, d => __bucketServico(d.servico));
  __renderChart({
    canvasId: "chartServico",
    type: "doughnut",
    labels: serv.map(([k]) => k),
    data: serv.map(([,v]) => v),
    label: "Demandas por tipo de servi√ßo"
  });

  // Gr√°fico 3: √°rea total (m¬≤) por regi√£o
  const areaReg = __groupSum(arr, d => d.regiao || "N√£o informado", d => d.area_m2);
  __renderChart({
    canvasId: "chartAreaRegiao",
    type: "bar",
    labels: areaReg.map(([k]) => k),
    data: areaReg.map(([,v]) => Math.round(v)),
    label: "√Årea total (m¬≤) por regi√£o"
  });

  // Debug r√°pido (abre o console e confere)
  console.log("[Dashboard] total:", total, "geoOk:", geoOk, "areaTotal:", areaTotal, "extTotal:", extTotal);
}

// S√≥ roda quando o HTML j√° existe
document.addEventListener("DOMContentLoaded", () => {
  // Se Chart n√£o existir, √© pq o script do Chart.js n√£o carregou
  if (!window.Chart) {
    console.error("Chart.js n√£o carregou. Confere se voc√™ colocou <script src='https://cdn.jsdelivr.net/npm/chart.js'></script> ANTES do seu JS.");
    return;
  }

  renderDashboardECharts(DEMANDAS);
});


/* =========================
   7) GR√ÅFICO (Chart.js) ‚Äî Demandas por Regi√£o
   ========================= */

let chartRegioes = null;

function agruparDemandasPorRegiao(lista) {
  const contagem = {};
  for (const d of (lista || [])) {
    const reg = (d.regiao || "Sem regi√£o").trim();
    contagem[reg] = (contagem[reg] || 0) + 1;
  }
  // ordena do maior pro menor
  return Object.entries(contagem).sort((a, b) => b[1] - a[1]);
}

function initChartRegioes() {
  // se o JS quebrar antes, o gr√°fico n√£o aparece -> isso ajuda a identificar
  if (!window.Chart) {
    console.error("Chart.js n√£o carregou. Verifique o <script src=...chart.umd.min.js> no HTML.");
    return;
  }

  const canvas = document.getElementById("chartRegioes");
  if (!canvas) {
    console.error('Canvas #chartRegioes n√£o encontrado. Crie: <canvas id="chartRegioes"></canvas>');
    return;
  }

  const dados = agruparDemandasPorRegiao(DEMANDAS);
  const labels = dados.map(([k]) => k);
  const values = dados.map(([, v]) => v);

  // se j√° existia, destr√≥i e recria (evita bug de duplicar)
  if (chartRegioes) chartRegioes.destroy();

  chartRegioes = new Chart(canvas, {
    type: "bar",
    data: {
      labels,
      datasets: [{
        label: "Qtd. de demandas",
        data: values
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: { display: true }
      },
      scales: {
        y: { beginAtZero: true, ticks: { precision: 0 } }
      }
    }
  });
}

// Inicializa quando o DOM estiver pronto
document.addEventListener("DOMContentLoaded", () => {
  try {
    initChartRegioes();
  } catch (e) {
    console.error("Erro ao iniciar gr√°fico:", e);
    console.log("Se tiver outro erro acima no console, ele precisa ser corrigido antes do gr√°fico.");
  }
});

